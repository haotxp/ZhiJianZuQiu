window.__require=function e(t,o,n){function i(c,s){if(!o[c]){if(!t[c]){var r=c.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!s&&l)return l(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+c+"'")}c=r}var u=o[c]={exports:{}};t[c][0].call(u.exports,function(e){return i(t[c][1][e]||e)},u,u.exports,e,t,o,n)}return o[c].exports}for(var a="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({AudioManager:[function(e,t,o){"use strict";cc._RF.push(t,"50b17H1IdBJZJbuer7jvh1M","AudioManager");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./common/gameStorage"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bg=null,t.leveUpClip=null,t.getKey=null,t.overSound=null,t.timecold=null,t.hudun=null,t}return i(t,e),t.prototype.start=function(){var e=this;cc.game.on("levelup",function(){1!=c.default.getSound()&&cc.audioEngine.playEffect(e.leveUpClip,!1)},this),cc.game.on("death",function(){1!=c.default.getSound()&&cc.audioEngine.playEffect(e.overSound,!1)},this),cc.game.on("getkey",function(){1!=c.default.getSound()&&cc.audioEngine.playEffect(e.getKey,!1)},this),cc.game.on("playbg",function(){1!=c.default.getSound()&&cc.audioEngine.play(e.bg,!0,1)},this),cc.game.on("timecold",function(){1!=c.default.getSound()&&cc.audioEngine.playEffect(e.timecold,!1)},this),cc.game.on("hudun",function(){1!=c.default.getSound()&&cc.audioEngine.playEffect(e.hudun,!1)},this)},t.prototype.updateUi=function(){},a([l(cc.AudioClip)],t.prototype,"bg",void 0),a([l(cc.AudioClip)],t.prototype,"leveUpClip",void 0),a([l(cc.AudioClip)],t.prototype,"getKey",void 0),a([l(cc.AudioClip)],t.prototype,"overSound",void 0),a([l(cc.AudioClip)],t.prototype,"timecold",void 0),a([l(cc.AudioClip)],t.prototype,"hudun",void 0),a([r],t)}(cc.Component);o.default=u,cc._RF.pop()},{"./common/gameStorage":"gameStorage"}],CellSc:[function(e,t,o){"use strict";cc._RF.push(t,"953d4LbKtRD/LtJ/ucos1gs","CellSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../common/Define"),s=e("../GamePrefab"),r=cc._decorator,l=r.ccclass,u=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.kuang=null,t.icon=null,t.cellid=-1,t.cellw=-1,t.cellh=-1,t.sPos=null,t.ePos=null,t.changeCellw=-1,t.changeCellh=-1,t.changeCell=null,t.gamesc=null,t.movedir=-1,t.oriPos=null,t.cellSize=64,t.cellNum_W=10,t.cellNum_H=11,t.iconPos_Scale=[[2.129,-1.995,.78],[2.704,-1.082,.75],[2.327,-.776,.73],[1.999,-.657,.75],[1.666,-.869,.7],[2.354,-1.825,.78]],t.cellname=["hong","huang","lan","lv"],t}return i(t,e),t.prototype.onLoad=function(){this.cellNum_W=c.default.cellNum_W,this.cellNum_H=c.default.cellNum_H,this.kuang=this.node.getComponent(cc.Sprite),this.node.on(cc.Node.EventType.TOUCH_START,this.cellTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.cellTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.cellTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.cellTouchEnd,this),this.oriPos=this.node.position},t.prototype.start=function(){},t.prototype.cellTouchStart=function(e){this.oriPos=this.node.position,this.sPos=e.getLocation();var t=this.node.name.split("cell")[1].split("_");this.cellw=Number(t[0]),this.cellh=Number(t[1])},t.prototype.cellTouchMove=function(e){if(-1!=this.movedir){var t=this.node.name.split("cell")[1].split("_");if(this.cellw=Number(t[0]),this.cellh=Number(t[1]),0==this.movedir){var o=this.node.parent.convertToNodeSpaceAR(e.getLocation()).x;if(this.node.x=o,this.node.x>this.oriPos.x){if(this.cellw==this.cellNum_W-1||-1==this.gamesc.shudata[this.cellw+1][this.cellh])return this.node.x=this.oriPos.x,void(this.movedir=-1)}else if(this.node.x<this.oriPos.x&&(0==this.cellw||-1==this.gamesc.shudata[this.cellw-1][this.cellh]))return this.node.x=this.oriPos.x,void(this.movedir=-1);if(this.node.x<this.oriPos.x-this.cellSize?this.node.x=this.oriPos.x-this.cellSize:this.node.x>this.oriPos.x+this.cellSize&&(this.node.x=this.oriPos.x+this.cellSize),this.node.x>this.oriPos.x){var n=this.node.x-this.oriPos.x,i=cc.v3(this.oriPos.x+this.cellSize-n,this.oriPos.y,0);this.changeCellPos([this.cellw+1,this.cellh],i)}else this.node.x<this.oriPos.x&&(n=this.oriPos.x-this.node.x,i=cc.v3(this.oriPos.x-this.cellSize+n,this.oriPos.y,0),this.changeCellPos([this.cellw-1,this.cellh],i))}else if(1==this.movedir){var a=this.node.parent.convertToNodeSpaceAR(e.getLocation()).y;if(this.node.y=a,this.node.y>this.oriPos.y){if(this.cellh==this.cellNum_H-1||-1==this.gamesc.shudata[this.cellw][this.cellh+1])return this.node.y=this.oriPos.y,void(this.movedir=-1)}else if(this.node.y<this.oriPos.y&&(0==this.cellh||-1==this.gamesc.shudata[this.cellw][this.cellh-1]))return this.node.y=this.oriPos.y,void(this.movedir=-1);this.node.y<this.oriPos.y-this.cellSize?this.node.y=this.oriPos.y-this.cellSize:this.node.y>this.oriPos.y+this.cellSize&&(this.node.y=this.oriPos.y+this.cellSize),this.node.y>this.oriPos.y?(n=this.node.y-this.oriPos.y,i=cc.v3(this.oriPos.x,this.oriPos.y+this.cellSize-n,0),this.changeCellPos([this.cellw,this.cellh+1],i)):this.node.y<this.oriPos.y&&(n=this.oriPos.y-this.node.y,i=cc.v3(this.oriPos.x,this.oriPos.y-this.cellSize+n,0),this.changeCellPos([this.cellw,this.cellh-1],i))}}else{this.ePos=e.getLocation();var c=Math.abs(this.ePos.x-this.sPos.x),s=Math.abs(this.ePos.y-this.sPos.y);if(n=5,c>s){if(c>n)return void(this.movedir=0)}else if(s>n)return void(this.movedir=1)}},t.prototype.cellTouchEnd=function(){-1!=this.changeCellw&&-1!=this.changeCellh&&(Math.abs(this.node.x-this.oriPos.x)<20&&Math.abs(this.node.y-this.oriPos.y)<20?this.reBack():1==this.gamesc.checkCell([this.cellw,this.cellh],[this.changeCellw,this.changeCellh])?(this.node.position=this.gamesc.cellPosData[this.changeCellw][this.changeCellh],this.changeCell.position=this.gamesc.cellPosData[this.cellw][this.cellh],this.node.name="cell"+this.changeCellw+"_"+this.changeCellh,this.changeCell.name="cell"+this.cellw+"_"+this.cellh,this.changeCellw=-1,this.changeCellh=-1,this.changeCell=null):this.reBack())},t.prototype.reBack=function(){this.movedir=-1,this.node.position=this.oriPos,null!=this.changeCell&&(this.changeCell.position=this.gamesc.cellPosData[this.changeCellw][this.changeCellh],this.changeCell=null,this.changeCellw=-1,this.changeCellh=-1)},t.prototype.changeCellPos=function(e,t){var o=e[0],n=e[1],i="cell"+o+"_"+n,a=cc.find(i,this.gamesc.xiaochuNode);a.position=t,null==this.changeCell?(this.changeCellw=o,this.changeCellh=n,this.changeCell=a):a!=this.changeCell&&(this.changeCell.position=this.gamesc.cellPosData[this.changeCellw][this.changeCellh],this.changeCellw=o,this.changeCellh=n,this.changeCell=a)},t.prototype.setCellId=function(e){this.cellid=e;var t=this.cellname[e];this.kuang.spriteFrame=s.default.Instance.cellSpRes[t]},t.prototype.setCellWH=function(e,t){this.cellw=e,this.cellh=t},t.prototype.setGameSc=function(e){this.gamesc=e},a([l],t)}(cc.Component));o.default=u,cc._RF.pop()},{"../GamePrefab":"GamePrefab","../common/Define":"Define"}],Define:[function(e,t,o){"use strict";cc._RF.push(t,"447f97b5zVCJKtSGRsQGJHN","Define"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameType=o.GameState=o.GameOverType=o.TiledType=o.SceneName=o.ItemType=void 0,function(e){e[e.YaoShi=0]="YaoShi",e[e.FeiDao=1]="FeiDao",e[e.FeiCi=2]="FeiCi",e[e.End=100]="End"}(o.ItemType||(o.ItemType={})),function(e){e.LoadScene="LoadScene",e.StartScene="StartScene",e.GameScene="GameScene",e.GeCaoGameScene="GeCaoGameScene"}(o.SceneName||(o.SceneName={})),function(e){e[e.begin=0]="begin",e[e.tiled1=1]="tiled1",e[e.tiled2=2]="tiled2",e[e.tiled3=3]="tiled3",e[e.tiled4=4]="tiled4",e[e.tiled5=5]="tiled5",e[e.tiled6=6]="tiled6",e[e.tiled7=7]="tiled7",e[e.tiled8=8]="tiled8",e[e.tiled9=9]="tiled9",e[e.tiled10=10]="tiled10",e[e.tiled11=11]="tiled11",e[e.tiled12=12]="tiled12",e[e.tiled13=13]="tiled13",e[e.tiled14=14]="tiled14",e[e.tiled15=15]="tiled15",e[e.tiled16=16]="tiled16",e[e.tiled17=17]="tiled17",e[e.tiled18=18]="tiled18",e[e.tiled19=19]="tiled19",e[e.tiled20=20]="tiled20",e[e.tiled21=21]="tiled21",e[e.tiled22=22]="tiled22",e[e.tiled23=23]="tiled23",e[e.end=100]="end"}(o.TiledType||(o.TiledType={})),function(e){e[e.Win=0]="Win",e[e.Fail=1]="Fail"}(o.GameOverType||(o.GameOverType={})),function(e){e[e.none=-1]="none",e[e.gaming=0]="gaming",e[e.gameover=1]="gameover"}(o.GameState||(o.GameState={})),function(e){e[e.guanqia=0]="guanqia",e[e.wujin=1]="wujin",e[e.gecao=2]="gecao",e[e.sanxiaotuitui=3]="sanxiaotuitui",e[e.sanxiaotutu=4]="sanxiaotutu"}(o.GameType||(o.GameType={}));var n=function(){function e(){}return e.getCheckOutScore=function(e){var t=0;return 1<=e&&e<=4?t=e+2:5<=e&&e<=9?t=2*(e-4)+5:10<=e&&e<=14?t=4*(e-9)+13:15<=e&&(t=6*(e-14)+31),20*t},e.eneryTime=600,e.maxEnery=10,e.maxShareGame=5,e.lingqutime=300,e.speed=.1,e.tiledkey=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,100],e.hudunTime=8,e.reliveHuDun=3,e.SwimmingTime=0,e.Swimmingradius=128,e.vipNum=3,e.skinPreName=["player0","player0","player0","player0"],e.addenery=[0,2,5,10,15],e.newMaxEnery=[10,12,15,20,25],e.cooltime=[600,570,540,480,420],e.newhudunTime=[8,8,9,10,11],e.newreliveHuDun=[3,3,4,5,6],e.kaidanFreeNum=1,e.kaidanNeedGold=10,e.cellNum_W=10,e.cellNum_H=11,e.openBiaoJi=!1,e.sanxiaoTuTuCheckNum=5,e}();o.default=n,cc._RF.pop()},{}],GameData:[function(e,t,o){"use strict";cc._RF.push(t,"7ff6ad9pQ5PDKMezgzhifp3","GameData"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.gameData={MapData:[[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,100,0],[0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,100,0],[0,2,2,2,2,2,10,10,10,10,10,100,0],[0,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,100,0],[0,10,10,10,10,10,3,3,3,3,3,100,0],[0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,100,0],[0,3,3,3,3,3,4,4,4,4,4,100,0],[0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,100,0],[0,4,4,4,4,4,5,5,5,5,5,100,0],[0,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,100,0],[0,5,5,5,5,5,6,6,6,6,6,100,0],[0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,100,0],[0,6,6,6,6,6,7,8,7,8,7,8,100,0],[0,7,8,7,8,7,8,7,8,7,8,7,8,7,8,7,8,100,0],[0,7,8,7,8,7,8,9,9,9,9,9,100,0],[0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,100,0],[0,9,9,9,9,9,11,12,11,12,11,12,100,0],[0,11,12,11,12,11,12,11,12,11,12,11,12,12,12,12,100,0],[0,11,12,11,12,11,12,13,13,13,13,13,100,0],[0,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,100,0],[0,13,13,13,13,13,14,14,14,14,14,100,0],[0,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,100,0],[0,14,14,14,14,14,15,15,15,15,15,100,0],[0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,100,0],[0,15,15,15,15,15,16,17,16,17,16,100,0],[0,16,17,16,17,16,17,16,17,16,17,16,17,16,17,16,100,0],[0,16,17,16,17,16,17,18,18,18,18,18,100,0],[0,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,100,0],[0,18,18,18,18,18,19,19,19,19,19,100,0],[0,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,100,0],[0,19,19,19,19,19,20,20,20,20,20,100,0],[0,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,100,0],[0,20,20,20,20,20,21,21,21,21,21,100,0],[0,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,100,0],[0,21,21,21,21,21,22,22,22,22,22,100,0],[0,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,100,0],[0,22,22,22,22,22,23,23,23,23,23,100,0],[0,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,100,0]],wujinMapData:[[0,1,1,1,1,1,1,1,100,0],[0,2,2,2,2,2,2,2,100,0],[0,3,3,3,3,3,3,3,100,0],[0,4,4,4,4,4,4,4,100,0],[0,5,5,5,5,5,5,5,100,0],[0,6,6,6,6,6,6,6,100,0],[0,7,8,7,8,7,8,7,8,100,0],[0,9,9,9,9,9,9,9,100,0],[0,10,10,10,10,10,10,10,100,0],[0,11,12,11,12,11,12,11,12,100,0],[0,13,13,13,13,13,13,13,13,100,0],[0,14,14,14,14,14,14,14,14,100,0],[0,15,15,15,15,15,15,15,15,100,0],[0,16,17,16,17,16,17,16,17,100,0],[0,18,18,18,18,18,18,18,18,100,0],[0,19,19,19,19,19,19,19,19,100,0],[0,20,20,20,20,20,20,20,20,100,0],[0,21,21,21,21,21,21,21,21,100,0],[0,22,22,22,22,22,22,22,22,100,0],[0,23,23,23,23,23,23,23,23,100,0]]},e}();o.default=n,cc._RF.pop()},{}],GamePrefab:[function(e,t,o){"use strict";cc._RF.push(t,"1b120W84NhAAKN6ecM7WI6Q","GamePrefab"),Object.defineProperty(o,"__esModule",{value:!0}),o.sxCellRes=void 0;var n,i=e("./common/Define");(function(e){e.hong="hong",e.huang="huang",e.lan="lan",e.lv="lv"})(n=o.sxCellRes||(o.sxCellRes={}));var a=function(){function e(){this.jilv=0,this.uiPre=[],this.allResNum=0,this.enemyPre=[],this.playerPre=[],this.cellSpRes=[],this.sxttCheckPre=[],this.stoneRes=[]}return Object.defineProperty(e,"Instance",{get:function(){return null==this.__instance&&(this.__instance=new e),this.__instance},enumerable:!1,configurable:!0}),e.prototype.Initial=function(){var t=this;for(var o in console.log("\u52a0\u8f7d\u6e38\u620f\u8d44\u6e90"),this.jilv=0,this.allResNum=2,this.allResNum+=i.default.sanxiaoTuTuCheckNum,n)Object.prototype.hasOwnProperty.call(n,o)&&this.allResNum++;cc.resources.loadDir("Prefab",function(e,o){if(e)return console.error("\u52a0\u8f7d\u8d44\u6e90\u62a5\u9519",e);t.jilv++;for(var n=0;n<o.length;n++){var i=o[n].name;t.uiPre[i]=o[n]}}),console.log("aaaaaaaaaaaa"),cc.resources.loadDir("player",function(e,o){if(e)return console.error("\u52a0\u8f7d\u8d44\u6e90\u62a5\u9519",e);t.jilv++;for(var n=0;n<o.length;n++){var i=o[n].name;t.playerPre[i]=o[n]}}),console.log("bbbbbbbbbbb");var a=function(t){if(Object.prototype.hasOwnProperty.call(n,t)){var o=n[t];cc.resources.load("SanXiaoRes/cellres/"+o,cc.SpriteFrame,function(t,n){if(t)return console.log("err=",t);e.Instance.jilv++,e.Instance.cellSpRes[o]=n})}};for(var o in n)a(o);console.log("ccccccccccc");for(var c=function(t){var o="lujing"+t;cc.resources.load("SanXiaoTuTu/checkPre/"+o,cc.Prefab,function(t,n){if(t)return console.log("err=",t);e.Instance.jilv++,e.Instance.sxttCheckPre[o]=n})},s=0;s<i.default.sanxiaoTuTuCheckNum;s++)c(s);console.log("dddddddd")},e}();o.default=a,cc._RF.pop()},{"./common/Define":"Define"}],LoadScene:[function(e,t,o){"use strict";cc._RF.push(t,"15e54XHq6RIBK0tiSEvGs9H","LoadScene");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../resources/tips/TipsManager"),s=e("../Script/common/Define"),r=e("../Script/common/gameStorage"),l=e("../Script/common/PlayData"),u=e("../Script/common/sdkTools/gameShareAdsVideo"),d=e("../Script/GamePrefab"),h=cc._decorator,p=h.ccclass,f=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bar=null,t.loadover=!1,t.barindex=0,t.allResNum=0,t.loadPackageOver=0,t}return i(t,e),t.prototype.onLoad=function(){var e=cc.winSize;if(console.log("\u6253\u5370\u5c4f\u5e55\u5927\u5c0f",e),e.height<1400?(s.default.cellNum_W=10,s.default.cellNum_H=9):e.height>=1400&&e.height<1510?(s.default.cellNum_W=10,s.default.cellNum_H=10):(s.default.cellNum_W=10,s.default.cellNum_H=11),this.loadPackageOver=0,this.barindex=0,this.bar.progress=0,this.loadover=!1,l.default.Instance.eneryTime=s.default.eneryTime,u.default.Instance.bannerAds_Load(),u.default.Instance.chaPingAds_Load(),u.default.Instance.motivational_Video_Load(),cc.sys.platform==cc.sys.BYTEDANCE_GAME){var t=this,o=tt.getUpdateManager();o.onUpdateReady(function(){tt.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u662f\u5426\u91cd\u542f\u5c0f\u6e38\u620f\uff1f",success:function(e){e.confirm&&o.applyUpdate()}})}),tt.loadSubpackage({name:"resources",success:function(e){console.log("success errMsg: "+e.errMsg),t.loadPackageOver=1},fail:function(e){console.log("fail errMsg: "+e.errMsg)}})}else cc.sys.platform==cc.sys.WECHAT_GAME?(t=this,wx.loadSubpackage({name:"resources",success:function(){console.log("resources\u5206\u5305\u52a0\u8f7d\u6210\u529f\u540e\u901a\u8fc7 success \u56de\u8c03"),t.loadPackageOver=1},fail:function(){console.log("resources\u5206\u5305\u52a0\u8f7d\u5931\u8d25\u901a\u8fc7 fail \u56de\u8c03")}}),u.default.Instance.showShareMenu()):this.loadPackageOver=1},t.prototype.start=function(){r.default.getUserSysInfo()},t.prototype.update=function(){if(1==this.loadPackageOver&&(c.default.Instance.Initial(),d.default.Instance.Initial(),this.allResNum=d.default.Instance.allResNum,this.loadPackageOver=2),2==this.loadPackageOver){if(1==this.loadover)return;this.bar.progress<1?this.bar.progress=d.default.Instance.jilv/this.allResNum:(this.loadover=!0,cc.director.loadScene("MainScene"))}},a([f(cc.ProgressBar)],t.prototype,"bar",void 0),a([p],t)}(cc.Component);o.default=g,cc._RF.pop()},{"../Script/GamePrefab":"GamePrefab","../Script/common/Define":"Define","../Script/common/PlayData":"PlayData","../Script/common/gameStorage":"gameStorage","../Script/common/sdkTools/gameShareAdsVideo":"gameShareAdsVideo","../resources/tips/TipsManager":void 0}],MainScene:[function(e,t,o){"use strict";cc._RF.push(t,"5a92ehP1btDKbQrHy6GKdH7","MainScene");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./common/Define"),s=e("./common/PlayData"),r=cc._decorator,l=r.ccclass,u=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.startbtnClick=function(e,t){"start1"==t?(s.default.Instance.gameType=c.GameType.sanxiaotuitui,cc.director.loadScene("SanXiaoScene")):"start2"==t&&(s.default.Instance.gameType=c.GameType.sanxiaotutu,cc.director.loadScene("SanXiaoTuYaScene"))},a([l],t)}(cc.Component));o.default=u,cc._RF.pop()},{"./common/Define":"Define","./common/PlayData":"PlayData"}],Main_poly_piecewise:[function(e,t,o){"use strict";cc._RF.push(t,"e9d2bjlShtA3IdPs7oUt4dR","Main_poly_piecewise");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./PhysicsPolygonColliderEx_piecewise"),s=cc._decorator,r=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.graphics=null,t.node_dirty=null,t.polyEx=null,t._rects=[],t}return i(t,e),t.prototype.onLoad=function(){cc.macro.ENABLE_MULTI_TOUCH=!1,cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().enabledAccumulator=!0,cc.PhysicsManager.FIXED_TIME_STEP=1/60,cc.PhysicsManager.VELOCITY_ITERATIONS=10,cc.PhysicsManager.POSITION_ITERATIONS=10,this.node_dirty.on(cc.Node.EventType.TOUCH_START,this._touchStart,this),this.node_dirty.on(cc.Node.EventType.TOUCH_MOVE,this._touchMove,this),this.node_dirty.on(cc.Node.EventType.TOUCH_END,this._touchEnd,this),this.node_dirty.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEnd,this),this.graphics=this.node_dirty.getComponent(cc.Mask)._graphics},t.prototype.start=function(){var e=this;this.scheduleOnce(function(){e.reset()},.01)},t.prototype._optimizePoint=function(e){var t=Math.floor(1*e[0])/1,o=Math.floor(1*e[1])/1;return cc.v2(t,o)},t.prototype._touchStart=function(e){this._touchStartPos=void 0,this._touchMove(e)},t.prototype._touchMove=function(e){var t=this,o=[],n=this.graphics.node.convertToNodeSpaceAR(e.getLocation()),i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,r=function(e,n){var r=t._optimizePoint([e,n]);i=r.x<i?r.x:i,c=r.y<c?r.y:c,a=r.x>a?r.x:a,s=r.y>s?r.y:s,o.push(r)};if(this._touchStartPos){var l=n.sub(this._touchStartPos);if(l.lengthSqr()>25){var u=this._touchStartPos;for(p=0;p<12;p++){y=2*Math.PI*p/12;var d=50*Math.cos(y),h=50*Math.sin(y);f=void 0,g=void 0,l.dot(cc.v2(d,h))>0?(f=n.x+d,g=n.y+h):(f=u.x+d,g=u.y+h),r(f,g)}this._touchStartPos=n}}else{for(var p=0;p<12;p++){var f,g,y=2*Math.PI*p/12;r(f=n.x+50*Math.cos(y),g=n.y+50*Math.sin(y))}this._touchStartPos=n}if(o.length){var m=cc.Rect.fromMinMax(cc.v2(i,c),cc.v2(a,s));for(p=0;p<this._rects.length;p++)this._rects[p].intersects(m)&&this.polyEx.pushCommand("polyDifference",[o,p])}},t.prototype._touchEnd=function(){this._touchStartPos=void 0},t.prototype.reset=function(){this._rects=[];for(var e=[],t=0;t<70;t++){var o=80*Math.floor(t/10)-280,n=t%10*80-400;this._rects[t]=cc.rect(n,o,80,80);var i=this._rects[t],a=i.xMin,c=i.xMax,s=i.yMin,r=i.yMax;e[t]=[[cc.v2(a,s),cc.v2(a,r),cc.v2(c,r),cc.v2(c,s)]]}this.polyEx.init(e,this.graphics);var l=cc.find("dirt",this.node_dirty);console.log("\u8282\u70b9\u5bbd\u9ad8=",l.width,l.height)},t.prototype.debug=function(){cc.debug.setDisplayStats(!cc.debug.isDisplayStats()),cc.director.getPhysicsManager().debugDrawFlags=cc.debug.isDisplayStats()?1:0},a([l(cc.Graphics)],t.prototype,"graphics",void 0),a([l(cc.Node)],t.prototype,"node_dirty",void 0),a([l(c.default)],t.prototype,"polyEx",void 0),a([r],t)}(cc.Component);o.default=u,cc._RF.pop()},{"./PhysicsPolygonColliderEx_piecewise":"PhysicsPolygonColliderEx_piecewise"}],PhysicsPolygonColliderEx_piecewise:[function(e,t,o){"use strict";cc._RF.push(t,"bf8c4tauD5LDJ5kAturSvBR","PhysicsPolygonColliderEx_piecewise");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,r=(c.property,c.menu),l=c.requireComponent,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._polys=[],t._physicsPolygonColliders=[],t._commands=[],t}return i(t,e),t.prototype.init=function(e,t){var o=this;this._polys=[];for(var n=0;n<e.length;n++){var i=e[n];this._polys[n]=i.map(function(e){return o._convertVecArrayToClipperPath(e)})}this._ctx=t,this._commands=[],this.draw()},t.prototype.pushCommand=function(e,t){this._commands.push({name:e,params:t})},t.prototype.polyDifference=function(e,t){if(this._polys[t]&&0!==this._polys[t].length){var o=new ClipperLib.Clipper(ClipperLib.Clipper.ioStrictlySimple),n=this._polys[t],i=[this._convertVecArrayToClipperPath(e)];o.AddPaths(n,ClipperLib.PolyType.ptSubject,!0),o.AddPaths(i,ClipperLib.PolyType.ptClip,!0);var a=ClipperLib.PolyFillType.pftEvenOdd,c=ClipperLib.PolyFillType.pftEvenOdd,s=new ClipperLib.Paths;o.Execute(ClipperLib.ClipType.ctDifference,s,a,c),this._polys[t]=s||[]}},t.prototype.draw=function(){var e=this._ctx;e.clear();for(var t=0,o=0;o<this._polys.length;o++)for(var n=this._polys[o],i=0;i<n.length;i++){var a=n[i],c=this._physicsPolygonColliders[t];c||((c=this.addComponent(cc.PhysicsPolygonCollider)).friction=0,c.restitution=0,this._physicsPolygonColliders[t]=c),c.points=this._convertClipperPathToVecArray(a),c.apply(),t++;for(var s=0;s<c.points.length;s++){var r=c.points[s];0===s?e.moveTo(r.x,r.y):e.lineTo(r.x,r.y)}e.close()}e.fill(),this._physicsPolygonColliders.slice(t).forEach(function(e){e.points.length&&(e.points.length=0,e.apply())})},t.prototype.lateUpdate=function(){if(this._commands.length){for(var e=this._commands.length,t=0;t<e;t++){var o=this._commands.shift();if(!o)break;this[o.name].apply(this,o.params)}this.draw()}},t.prototype._convertVecArrayToClipperPath=function(e){return e.map(function(e){return{X:e.x,Y:e.y}})},t.prototype._convertClipperPathToVecArray=function(e){return e.map(function(e){return cc.v2(e.X,e.Y)})},a([s,r("i18n:MAIN_MENU.component.physics/Collider/PolygonEX_piecewise-lamyoung.com"),l(cc.RigidBody)],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],PlayData:[function(e,t,o){"use strict";cc._RF.push(t,"5d8906LEDtLP77hV9QK5EVh","PlayData"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./Define"),i=function(){function e(){this.nowEnery=0,this.eneryTime=600,this.firstInGame=!0,this.playerSkin=0,this.guanqianum=0,this._gameState=null,this.openId=null,this.isShowHightScore=!1,this.downOver=!1,this.playerPos=cc.v3(0,0,0),this.feicuinowdata=[],this.daojishi=300,this.getGold=0,this.wujin_guanqianum=0,this.gameType=n.GameType.guanqia,this.userSysInfo={cid:"",cip:"",cname:"",copenid:""},this.userInfo={hightScore:0,icon:"",openid:"",name:""}}return Object.defineProperty(e,"Instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e._instance=null,e}();o.default=i,cc._RF.pop()},{"./Define":"Define"}],SanXiaoGameEndSc:[function(e,t,o){"use strict";cc._RF.push(t,"e62923ukM9JoZfI5aMZ0gbZ","SanXiaoGameEndSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../common/Define"),s=e("../common/PlayData"),r=e("../common/sdkTools/gameShareAdsVideo"),l=cc._decorator,u=l.ccclass,d=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.winNode=null,t.failNode=null,t}return i(t,e),t.prototype.onLoad=function(){this.winNode.active=!1,this.failNode.active=!1},t.prototype.start=function(){},t.prototype.onEnable=function(){r.default.Instance.chaPingAds_Show(),r.default.Instance.bannerAds_Show()},t.prototype.onDisable=function(){r.default.Instance.bannerAds_Hide()},t.prototype.setGameEndType=function(e){this.winNode.active=1==e,this.failNode.active=0==e},t.prototype.btnClickCallBack=function(e,t){"again"==t||"next"==t?(this.node.destroy(),s.default.Instance.gameType==c.GameType.sanxiaotuitui?cc.director.loadScene("SanXiaoScene"):s.default.Instance.gameType==c.GameType.sanxiaotutu&&cc.director.loadScene("SanXiaoTuYaScene")):"back"==t&&(this.node.destroy(),cc.director.loadScene("MainScene"))},a([d(cc.Node)],t.prototype,"winNode",void 0),a([d(cc.Node)],t.prototype,"failNode",void 0),a([u],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../common/Define":"Define","../common/PlayData":"PlayData","../common/sdkTools/gameShareAdsVideo":"gameShareAdsVideo"}],SanXiaoGameSc:[function(e,t,o){"use strict";cc._RF.push(t,"3aa15ltqVVNCbTWQH28Dvqv","SanXiaoGameSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../common/Define"),s=e("../common/gameStorage"),r=e("../common/PlayData"),l=e("../common/sdkTools/gameShareAdsVideo"),u=e("../common/utils"),d=e("../GamePrefab"),h=e("./CellSc"),p=e("./SanXiaoGameEndSc"),f=e("./StoneSc"),g=cc._decorator,y=g.ccclass,m=g.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stoneNode=null,t.moveStage=null,t.renStage=null,t.stoneRes=[],t.timestr=null,t.diaoluostr=null,t.guanstr=null,t.endpanel=null,t.texiao=null,t.clickBlock=null,t.diaolou=null,t.lujing=null,t.jinduBar=null,t.xiaochuNode=null,t.diban=null,t.shudata=null,t.cellPosData=[],t.gameState=c.GameState.none,t.cellNum_W=10,t.cellNum_H=11,t.daojishi=60,t.diaoluoNum=0,t.totalnum=200,t.gamelevel=-1,t.pushPower=14,t.dingzhuNum=100,t.biaoji=null,t}return i(t,e),t.prototype.onLoad=function(){this.showLuJing(),this.cellNum_W=c.default.cellNum_W,this.cellNum_H=c.default.cellNum_H,9==this.cellNum_H?(cc.find("smallNode",this.node).active=!0,cc.find("middleNode",this.node).active=!1,cc.find("bigNode",this.node).active=!1,this.xiaochuNode=cc.find("smallNode/XiaoChuNode10x9",this.node),this.diban=cc.find("smallNode/DiBan10x9",this.node),this.biaoji=cc.find("smallNode/biaoji",this.node)):10==this.cellNum_H?(cc.find("smallNode",this.node).active=!1,cc.find("middleNode",this.node).active=!0,cc.find("bigNode",this.node).active=!1,this.xiaochuNode=cc.find("middleNode/XiaoChuNode10x10",this.node),this.diban=cc.find("middleNode/DiBan10x10",this.node),this.biaoji=cc.find("middleNode/biaoji",this.node)):(cc.find("smallNode",this.node).active=!1,cc.find("middleNode",this.node).active=!1,cc.find("bigNode",this.node).active=!0,this.xiaochuNode=cc.find("bigNode/XiaoChuNode10x11",this.node),this.diban=cc.find("bigNode/DiBan10x11",this.node),this.biaoji=cc.find("bigNode/biaoji",this.node)),this.biaoji.active=c.default.openBiaoJi,cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2(0,-1024),this.gamelevel=s.default.getSXCheckPoint(r.default.Instance.gameType),this.timestr.string=u.default.secondsFormat(this.daojishi,!1),this.guanstr.string="\u5173\u5361\u6570:"+(this.gamelevel+1),this.diaoluostr.string="\u6389\u843d\u6570\u91cf:"+this.diaoluoNum,this.jinduBar.progress=0},t.prototype.start=function(){var e=this;this.renStage.node.x=30,this.addStoneCell(),this.scheduleOnce(function(){e.gameState=c.GameState.gaming,e.pushMoveStage(),e.startCutTime()},4),this.initFangKuaiCell()},t.prototype.startCutTime=function(){var e=this;this.schedule(function(){e.gameState==c.GameState.gaming&&(e.daojishi--,e.timestr.string=u.default.secondsFormat(e.daojishi,!1),0==e.daojishi&&(console.log("\u6e38\u620f\u7ed3\u675f"),e.gameState=c.GameState.gameover,e.moveStage.linearVelocity=cc.v2(0,0),e.unscheduleAllCallbacks(),e.showGameEnd(!1)))},1,cc.macro.REPEAT_FOREVER)},t.prototype.initFangKuaiCell=function(){this.shudata=u.default.createArrayWithoutConsecutiveThrees(this.cellNum_W,this.cellNum_H,3);for(var e=0;e<this.cellNum_W;e++){this.cellPosData[e]=[];for(var t=0;t<this.cellNum_H;t++){var o="cell"+e+"_"+t,n=cc.find(o,this.xiaochuNode),i=n.getComponent(h.default),a=this.shudata[e][t];i.setCellId(a,this.gamelevel%3),i.setCellWH(e,t),i.setGameSc(this),this.cellPosData[e][t]=n.position}}},t.prototype.addStoneCell=function(){var e=this;this.playDiaoLouSound();var t=this.stoneRes.length;this.schedule(function(){var o=u.default.getRangeRandom(0,t-1),n=cc.instantiate(e.stoneRes[o]),i=u.default.getRangeRandom(-210,270);n.position=cc.v3(i,500,0),n.parent=e.stoneNode,n.getComponent(f.default).setGameSc(e)},0,this.totalnum)},t.prototype.pushMoveStage=function(){if(this.checkCanMoveStage(),this.moveStage.node.x>=150)this.moveStage.type=cc.RigidBodyType.Static,this.moveStage.linearVelocity=cc.v2(0,0);else{var e=cc.v2(this.pushPower,0);this.moveStage.linearVelocity=e}},t.prototype.checkCanMoveStage=function(){var e=0;if(this.moveStage.node.x>40&&this.moveStage.type==cc.RigidBodyType.Dynamic)for(var t=this.stoneNode.children,o=0;o<t.length;o++)t[o].y>285&&e++;this.pushPower=e>80?0:14},t.prototype.renMoveStage=function(){if(this.renStage.node.x<=-210)this.renStage.type=cc.RigidBodyType.Static,this.renStage.linearVelocity=cc.v2(0,0);else{var e=cc.v2(-4,0);this.renStage.linearVelocity=e}},t.prototype.checkCell=function(e,t){var o=this,n=e[0],i=e[1],a=t[0],c=t[1],s=u.default.deepClone(this.shudata);s[n][i]=this.shudata[a][c],s[a][c]=this.shudata[n][i];for(var r=[],l=0;l<this.cellNum_W;l++)this.checkRowForConsecutives(s[l],l,r);for(var d=0;d<this.cellNum_H;d++)this.checkColumnForConsecutives(s,d,r);return r.length>0&&(this.shudata[a][c]=s[a][c],this.shudata[n][i]=s[n][i],this.scheduleOnce(function(){o.xiaoChuCell(r)},.3),!0)},t.prototype.checkRowForConsecutives=function(e,t,o){for(var n=1,i=0;i<e.length-1;i++)e[i]===e[i+1]&&null!=e[i]&&-1!=e[i]?3==++n?o.push({row:t,col:i-1,length:3,number:e[i],dir:1}):n>3&&(o[o.length-1].length=n):n=1},t.prototype.checkColumnForConsecutives=function(e,t,o){for(var n=1,i=0;i<e.length-1;i++)e[i][t]===e[i+1][t]&&-1!=e[i][t]&&null!=e[i][t]?3==++n?o.push({row:i-1,col:t,length:3,number:e[i][t],dir:0}):n>3&&(o[o.length-1].length=n):n=1},t.prototype.xiaoChuCell=function(e){for(var t=0;t<e.length;t++){var o=e[t],n=o.length,i=o.dir,a=o.row,c=o.col;if(0==i){this.playXiaoChuSound();for(var s=0;s<n;s++){this.shudata[a+s][c]=-1;var r="cell"+(a+s)+"_"+c,l=cc.find(r,this.xiaochuNode),u=cc.find(r,this.diban);l&&(this.addxiaochuTeXiao(l),cc.tween(l).to(.2,{scale:1.5,opacity:0}).removeSelf().start()),u&&u.destroy()}}else if(1==i)for(this.playXiaoChuSound(),s=0;s<n;s++)this.shudata[a][c+s]=-1,r="cell"+a+"_"+(c+s),l=cc.find(r,this.xiaochuNode),u=cc.find(r,this.diban),l&&(this.addxiaochuTeXiao(l),cc.tween(l).to(.2,{scale:1.5,opacity:0}).removeSelf().start()),u&&u.destroy()}},t.prototype.addxiaochuTeXiao=function(e){var t=cc.instantiate(this.texiao);t.opacity=125,t.position=e.position,t.parent=e.parent,cc.tween(t).delay(1).removeSelf().start()},t.prototype.addDiaoLuoNum=function(){this.gameState==c.GameState.gaming&&(this.diaoluoNum++,this.diaoluostr.string="\u6389\u843d\u6570\u91cf:"+this.diaoluoNum,this.jinduBar.progress=this.diaoluoNum/this.totalnum,this.jinduBar.progress>=.8&&(this.gamelevel+=1,s.default.setSXCheckPoint(r.default.Instance.gameType,this.gamelevel),this.gameState=c.GameState.gameover,this.showGameEnd(!0)))},t.prototype.showLuJing=function(){},t.prototype.showGameEnd=function(e){var t=cc.instantiate(this.endpanel);t.parent=this.node,t.getComponent(p.default).setGameEndType(e)},t.prototype.update=function(){this.gameState==c.GameState.gaming&&(this.pushMoveStage(),this.renMoveStage())},t.prototype.setBtn=function(){cc.instantiate(d.default.Instance.uiPre.pausePanel).parent=cc.director.getScene()},t.prototype.playXiaoChuSound=function(){1!=s.default.getSound()&&cc.audioEngine.playEffect(this.clickBlock,!1)},t.prototype.playDiaoLouSound=function(){1!=s.default.getSound()&&cc.audioEngine.playEffect(this.diaolou,!1)},t.prototype.daluanBtn=function(){var e=this;l.default.Instance.motivational_Video_Show(function(){for(var t=u.default.createArrayWithoutConsecutiveThrees(e.cellNum_W,e.cellNum_H,3),o=0;o<e.cellNum_W;o++)for(var n=0;n<e.cellNum_H;n++)-1!=e.shudata[o][n]&&(e.shudata[o][n]=t[o][n]);e.updateCellIcon()},function(){})},t.prototype.updateCellIcon=function(){for(var e=0;e<this.cellNum_W;e++)for(var t=0;t<this.cellNum_H;t++)if(-1!=this.shudata[e][t]){var o="cell"+e+"_"+t,n=cc.find(o,this.xiaochuNode).getComponent(h.default),i=this.shudata[e][t];n.setCellId(i,this.gamelevel%3)}},t.prototype.addTimeBtn=function(){if(this.gameState==c.GameState.gaming){var e=this;l.default.Instance.motivational_Video_Show(function(){e.daojishi+=60,e.timestr.string=u.default.secondsFormat(e.daojishi,!1)},function(){})}},a([m(cc.Node)],t.prototype,"stoneNode",void 0),a([m(cc.RigidBody)],t.prototype,"moveStage",void 0),a([m(cc.RigidBody)],t.prototype,"renStage",void 0),a([m([cc.Prefab])],t.prototype,"stoneRes",void 0),a([m(cc.Label)],t.prototype,"timestr",void 0),a([m(cc.Label)],t.prototype,"diaoluostr",void 0),a([m(cc.Label)],t.prototype,"guanstr",void 0),a([m(cc.Prefab)],t.prototype,"endpanel",void 0),a([m(cc.Prefab)],t.prototype,"texiao",void 0),a([m(cc.AudioClip)],t.prototype,"clickBlock",void 0),a([m(cc.AudioClip)],t.prototype,"diaolou",void 0),a([m(cc.Label)],t.prototype,"lujing",void 0),a([m(cc.ProgressBar)],t.prototype,"jinduBar",void 0),a([y],t)}(cc.Component);o.default=v,cc._RF.pop()},{"../GamePrefab":"GamePrefab","../common/Define":"Define","../common/PlayData":"PlayData","../common/gameStorage":"gameStorage","../common/sdkTools/gameShareAdsVideo":"gameShareAdsVideo","../common/utils":"utils","./CellSc":"CellSc","./SanXiaoGameEndSc":"SanXiaoGameEndSc","./StoneSc":"StoneSc"}],StoneSc:[function(e,t,o){"use strict";cc._RF.push(t,"71ca7POLm5ImYDKHyZGXy4Z","StoneSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,r=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gamesc=null,t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.setGameSc=function(e){this.gamesc=e},t.prototype.update=function(){this.node.y<-1e3&&(this.gamesc.addDiaoLuoNum(),this.node.destroy())},a([s],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],TopUi:[function(e,t,o){"use strict";cc._RF.push(t,"ef19cc5e15MyI4kFJUjjXCb","TopUi");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./common/Define"),s=e("./common/gameStorage"),r=e("./common/PlayData"),l=e("./GamePrefab"),u=cc._decorator,d=u.ccclass,h=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tilistr=null,t.timestr=null,t.goldstr=null,t.runtime=0,t.addtiliprefab=null,t}return i(t,e),t.prototype.onLoad=function(){this.setGold(),this.setTiLi(),this.setVipNum(),this.node.on("click",this.openAddEngry,this),this.addtiliprefab=l.default.Instance.uiPre.addEngry},t.prototype.start=function(){},t.prototype.openAddEngry=function(){cc.instantiate(this.addtiliprefab).parent=cc.director.getScene()},t.prototype.openAddGold=function(){},t.prototype.setGold=function(e){this.goldstr.string=e?""+e:""+s.default.getGold()},t.prototype.setTiLi=function(){var e=s.default.getEnergy()+"/"+c.default.maxEnery;this.tilistr.string=e},t.prototype.setVipNum=function(){},t.prototype.openVipPanel=function(){cc.instantiate(l.default.Instance.uiPre.vipPaneleSc).parent=cc.director.getScene()},t.prototype.addEneryTime=function(){var e=this;this.schedule(function(){r.default.Instance.eneryTime--,e.timestr.string=""+e.secondsFormat(r.default.Instance.eneryTime),r.default.Instance.eneryTime<=0&&(r.default.Instance.eneryTime=c.default.eneryTime,e.unscheduleAllCallbacks(),s.default.setEnergy(s.default.getEnergy()+1),e.setTiLi(),e.runtime=0,e.timestr.string="00:00")},1,3e3,0)},t.prototype.secondsFormat=function(e){var t=Math.floor(e/3600),o=Math.floor((e-3600*t)/60),n=e-3600*t-60*o;return(o<10?"0"+o:""+o)+":"+(n<10?"0"+n:""+n)},t.prototype.update=function(){r.default.Instance.nowEnery>=c.default.maxEnery&&"\u5df2\u6ee1"!=this.timestr.string&&(this.unscheduleAllCallbacks(),this.runtime=0,this.timestr.string="\u5df2\u6ee1",r.default.Instance.eneryTime=c.default.eneryTime),1!=this.runtime&&r.default.Instance.nowEnery<c.default.maxEnery&&(this.runtime=1,this.addEneryTime())},t.prototype.cutSchedule=function(){this.unscheduleAllCallbacks()},a([h(cc.Label)],t.prototype,"tilistr",void 0),a([h(cc.Label)],t.prototype,"timestr",void 0),a([h(cc.Label)],t.prototype,"goldstr",void 0),a([d],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./GamePrefab":"GamePrefab","./common/Define":"Define","./common/PlayData":"PlayData","./common/gameStorage":"gameStorage"}],addEngry:[function(e,t,o){"use strict";cc._RF.push(t,"7ad76A4SL9Bk5JrEGQo38P0","addEngry");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./common/gameStorage"),s=e("./common/sdkTools/gameShareAdsVideo"),r=cc._decorator,l=r.ccclass,u=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){s.default.Instance.chaPingAds_Show(),s.default.Instance.bannerAds_Show()},t.prototype.onDisable=function(){s.default.Instance.bannerAds_Hide()},t.prototype.start=function(){},t.prototype.addbtnClick=function(){var e=this;s.default.Instance.motivational_Video_Show(function(){c.default.setEnergy(c.default.getEnergy()+5),cc.director.emit("addengry"),e.closeClick()},function(){})},t.prototype.addbtnClick2=function(){var e=this;s.default.Instance.motivational_Video_Show(function(){c.default.setEnergy(c.default.getEnergy()+10),cc.director.emit("addengry"),e.closeClick()},function(){})},t.prototype.goldBuyClick=function(){c.default.getGold()>=100?(this.closeClick(),c.default.addGold(-100),c.default.setEnergy(c.default.getEnergy()+5),cc.director.emit("addengry"),cc.director.emit("addgold")):s.default.Instance.showToast("\u9053\u5177\u4e0d\u8db3!")},t.prototype.closeClick=function(){this.node.removeFromParent(!0)},a([l],t)}(cc.Component));o.default=u,cc._RF.pop()},{"./common/gameStorage":"gameStorage","./common/sdkTools/gameShareAdsVideo":"gameShareAdsVideo"}],cocosAnalyticsSdk:[function(e,t,o){"use strict";cc._RF.push(t,"134ccOFR9pOjbI8imHuZZTn","cocosAnalyticsSdk"),Object.defineProperty(o,"__esModule",{value:!0}),o.eventType=void 0,function(e){e[e.model=0]="model"}(o.eventType||(o.eventType={}));o.default=function(){},cc._RF.pop()},{}],gameCheckLogin:[function(e,t,o){"use strict";cc._RF.push(t,"ef80cr/polOtJUqkayIOw12","gameCheckLogin"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./gameShareAdsVideo"),i=function(){function e(){}return e.getPlatformClass=function(){return n.default.Instance.getPlatformClass()},e.gameLogin=function(e){if(cc.sys.platform!==cc.sys.BYTEDANCE_GAME)return!1;var t=this;this.getPlatformClass().login({force:e,success:function(e){t.gameCode=e.code,t.anonymousCode=e.anonymousCode},fail:function(){}})},e.gameCheckSession=function(){},e.getOpenId=function(){},e.getUserInfo=function(){},e.GetAva64Image=function(){},e}();o.default=i,cc._RF.pop()},{"./gameShareAdsVideo":"gameShareAdsVideo"}],gameNetWorkState:[function(e,t,o){"use strict";cc._RF.push(t,"06c28JDhBVBkJPCGrYuRuI/","gameNetWorkState"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../gameStorage"),i=e("../PlayData"),a=e("./gameShareAdsVideo"),c=function(){function e(){this.url="https://www.smaame.top/sgame",this.openData=null,this.isget=!1}return Object.defineProperty(e,"Instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.getPlatformClass=function(){return a.default.Instance.getPlatformClass()},e.prototype.getIsShiPingCome=function(){if(cc.sys.os===cc.sys.OS_IOS||cc.sys.os==cc.sys.OS_ANDROID){if(cc.sys.platform==cc.sys.BYTEDANCE_GAME){var e=this.getPlatformClass().getLaunchOptionsSync();return"023001"==e.scene||"023002"==e.scene}return!1}return!1},e.prototype.getGameOpenState=function(e){if(this.openData)return e();var t,o=a.default.Instance.getName();t=cc.sys.platform==cc.sys.MOBILE_BROWSER?"https://www.slgme.top/pv?name=":this.url+"?appid=&name="+o;var n=new XMLHttpRequest;this.openData=null;var i=this;this.isget=!1,n.onreadystatechange=function(){if(4==n.readyState&&n.status>=200&&n.status<400){var t=n.responseText;i.isget=!0;var o=JSON.parse(t);i.openData=o.data,e()}},n.open("GET",t,!0),n.send(),setTimeout(function(){0==i.isget?i.noNetWork():console.log("\u4e0d\u5904\u7406")},1e4)},e.prototype.noNetWork=function(){this.openData={auto:!1,show:!1,scene:!1,open:!1},this.openData.open=!1},e.prototype.getShow=function(){return null!=this.openData&&null!=this.openData||this.noNetWork(),!(!this.openData||!this.openData.show)&&this.openData.show},e.prototype.getTuiGuang=function(){return null!=this.openData&&null!=this.openData&&this.openData.open},e.prototype.getScene=function(){return null!=this.openData&&null!=this.openData||this.noNetWork(),!!this.openData.scene&&this.openData.scene},e.prototype.getAuto=function(){return null!=this.openData&&null!=this.openData||this.noNetWork(),this.getIsShiPingCome()?!!this.openData.auto&&this.openData.auto:!!this.getScene()&&(!!this.openData.auto&&this.openData.auto)},e.prototype.getOpenState_Video=function(){return this.getAuto()},e.prototype.getOpenState_ShiPin_Tag=function(){return 1!=this.getAuto()},e.prototype.getHomeBack=function(){},e.prototype.getGameOut=function(){},e.prototype.addGameBackEvent=function(){},e.prototype.setGameOut=function(){},e.prototype.getPhoneIp=function(){if(cc.sys.platform==cc.sys.BYTEDANCE_GAME){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==e.readyState&&e.status>=200&&e.status<400){var t=e.responseText.split("=")[1];t=t.split(";")[0];var o=JSON.parse(t);i.default.Instance.userSysInfo.cid=o.cid,i.default.Instance.userSysInfo.cip=o.cip,i.default.Instance.userSysInfo.cname=o.cname,n.default.setUserSysInfo()}},e.open("GET","http://pv.sohu.com/cityjson?ie=utf-8",!0),e.send(),setTimeout(function(){var e=(new Date).toString();i.default.Instance.userSysInfo.cip="L"+e},1e4)}},e._instance=null,e}();o.default=c,cc._RF.pop()},{"../PlayData":"PlayData","../gameStorage":"gameStorage","./gameShareAdsVideo":"gameShareAdsVideo"}],gameShareAdsVideo:[function(e,t,o){"use strict";cc._RF.push(t,"b30cb5BortL0YynXMY49hMr","gameShareAdsVideo"),Object.defineProperty(o,"__esModule",{value:!0}),o.CustomAdType=void 0;var n=e("../utils");(function(e){e[e.none=0]="none",e[e.banner_tuwen=1]="banner_tuwen",e[e.banner_tu=2]="banner_tu",e[e.vertical_R=3]="vertical_R",e[e.vertical_L=4]="vertical_L",e[e.juzhen=5]="juzhen"})(o.CustomAdType||(o.CustomAdType={}));var i=function(){function e(){this.isdebug=!1,this.videoRecordingState=0,this.video_recorder=null,this.videoStartTime=null,this.videoPath=null,this.videoIsExist=0,this.recorderTime=120,this.videoAd=null,this.chaPingErr=!1,this.chaPing=null,this.bannerAd=null,this.videoCallBack=null,this.videoFailCallBack=null,this.isshowbanner=!1,this.tt_info={gamename:"xxx",shareTitle:"#xxx#xxxxx",appId:"xxxx",videoId:"1a90e494314j2h12mi",chapingId:"3a1d52tc3rl1m4fqk9",bannerId:"1aa3a475hdej37f9db",templateId:["","","",""],videoTopics:["xx","xx"],appSecret:""},this.ks_info={gamename:"xx",shareTitle:"#xx#xx",appId:"ks68229534xxx6305434858",bannerId:"",videoId:"230000x2450_01",chapingId:"2300x002450_02",templateId:["","","",""],videoTopics:["xxx","xx"],appSecret:""},this.wx_info={gamename:"xx",shareTitle:"#xx#xx",appId:"wx52e51867e8276436",bannerId:"",gezi:"",videoId:"adunit-4bf5544b44033aca",chapingId:"adunit-568e99fcd4fa800a",NativeAd:{bannerId:"adunit-2129abef4a378072"},templateId:["","","",""],videoTopics:["xx","xx"]},this.url="https://www.sxmxalxxlgxxaxme.top/sgame",this.web_url=" https://www.xsmxxxallxxgame.top/pv"}return Object.defineProperty(e,"Instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"platform",{get:function(){return cc.sys.platform==cc.sys.BYTEDANCE_GAME?(this._platform="tt",this._platform):cc.sys.platform==cc.sys.WECHAT_GAME?(this._platform="wx",this._platform):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"plaform",{set:function(e){this._platform=e},enumerable:!1,configurable:!0}),e.prototype.getPlatformClass=function(){var e=null;switch(this.platform){case"tt":e=tt;break;case"op":e=qg;break;case"wx":e=wx;break;case"ks":e=ks}return e},e.prototype.getShareTitle=function(){var e="";switch(this.platform){case"tt":e=this.tt_info.shareTitle;break;case"ks":e=this.ks_info.shareTitle;break;case"wx":e=this.wx_info.shareTitle}return e},e.prototype.getName=function(){var e="";switch(this.platform){case"tt":e=this.tt_info.gamename;break;case"ks":e=this.ks_info.gamename;break;case"wx":e=this.wx_info.gamename}return e},e.prototype.getBannerId=function(){var e="";switch(this.platform){case"tt":e=this.tt_info.bannerId;break;case"ks":e=this.ks_info.bannerId;break;case"wx":e=this.wx_info.NativeAd.bannerId}return e},e.prototype.getVideoId=function(){var e="";switch(this.platform){case"tt":e=this.tt_info.videoId;break;case"ks":e=this.ks_info.videoId;break;case"wx":e=this.wx_info.videoId}return e},e.prototype.getChaPingId=function(){var e="";switch(this.platform){case"tt":e=this.tt_info.chapingId;break;case"ks":e=this.ks_info.chapingId;break;case"wx":e=this.wx_info.chapingId}return e},e.prototype.getTemplateId=function(){var e="",t=this.tt_info.templateId.length,o=this.getRangeRandom(0,t);switch(this.platform){case"tt":e=this.tt_info.templateId[o];break;case"wx":e=this.wx_info.templateId[o]}return e},e.prototype.showShareMenu=function(){cc.sys.platform==cc.sys.WECHAT_GAME&&(wx.showShareMenu({menus:["shareAppMessage","shareTimeline"],success:function(){console.log("\u5f00\u542f\u88ab\u52a8\u8f6c\u53d1\u6210\u529f!")},fail:function(e){console.log(e),console.log("\u5f00\u542f\u88ab\u52a8\u8f6c\u53d1\u5931\u8d25!")}}),wx.onShareAppMessage(function(){return{title:"\u961f\u957f\u5e26\u4f60\u4eec\u88c513,\u5e26\u4f60\u4eec\u8d77\u98de\uff01",imageUrl:"",query:""}}),wx.onShareTimeline(function(){return{title:"\u961f\u957f\u5e26\u4f60\u4eec\u88c513,\u5e26\u4f60\u4eec\u8d77\u98de\uff01",imageUrl:"",query:""}}))},e.prototype.game_share=function(e){if(console.log("\u6e38\u620f\u5206\u4eab"),this.isdebug)return e();cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.platform==cc.sys.BYTEDANCE_GAME?(this.getShareTitle(),this.getPlatformClass().shareAppMessage({templateId:"",query:"",success:function(){e()},fail:function(){}})):this.platform},e.prototype.shareGameToFriend=function(e,t){if(console.log("\u5206\u4eab\u5230\u597d\u53cb"),this.isdebug)return e();var o="\u4f60\u7684\u597d\u53cb\u9080\u8bf7\u4f60\u4e00\u8d77\u6218\u6597";if(t&&(o=t),cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.platform==cc.sys.BYTEDANCE_GAME){var n=this.getName();this.getPlatformClass().shareAppMessage({channel:"invite",title:n,desc:o,imageUrl:"",query:"",success:function(){},fail:function(){}})}},e.prototype.bannerAds_Load=function(){if(console.log("banner \u5e7f\u544a\u52a0\u8f7d"),!this.isdebug&&cc.sys.platform==cc.sys.WECHAT_GAME){var t=this.getPlatformClass().getWindowInfo(),o=this.getBannerId();this.bannerAd=wx.createCustomAd({adUnitId:o,adIntervals:35,style:{left:0,top:t.windowHeight-120,fixed:!0}}),this.bannerAd.onError(function(t){console.log("\u5e7f\u544a\u62a5\u9519,Ad_Custom_Banner_Tu",t),e.Instance.bannerAd=null})}},e.prototype.bannerAds_Show=function(){if(console.log("banner \u5e7f\u544a\u663e\u793a"),!this.isdebug){var e=this;if(cc.sys.platform==cc.sys.BYTEDANCE_GAME){if(null==e.bannerAd){var t=this.getPlatformClass().getSystemInfoSync(),o=t.windowWidth,n=this.getBannerId();e.bannerAd=this.getPlatformClass().createBannerAd({adUnitId:n,style:{left:(t.windowWidth-o)/2,top:t.windowHeight-100,width:o,height:100}}),e.bannerAd.onResize(function(o){e.bannerAd.style.left=(t.windowWidth-o.width)/2,e.bannerAd.style.top=t.windowHeight-o.height}),e.bannerAd.onError(function(){})}null!=e.bannerAd&&e.bannerAd.show()}else cc.sys.platform===cc.sys.WECHAT_GAME&&(this.bannerAd?this.bannerAd.show():this.bannerAds_Load())}},e.prototype.bannerAds_Hide=function(){console.log("banner \u5e7f\u544a\u9690\u85cf"),this.isdebug||(cc.sys.platform==cc.sys.BYTEDANCE_GAME?null!=this.bannerAd&&this.bannerAd.hide():cc.sys.platform===cc.sys.WECHAT_GAME?this.bannerAd&&this.bannerAd.hide():this.platform)},e.prototype.chaPingAds_Load=function(){if(console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d"),!this.isdebug&&cc.sys.platform==cc.sys.WECHAT_GAME){var e=this.getChaPingId();this.chaPing=this.getPlatformClass().createInterstitialAd({adUnitId:e}),this.chaPing.onError(function(e){console.log("\u63d2\u5c4f\u5e7f\u544a\u62c9\u53d6\u5931\u8d25",e)})}},e.prototype.chaPingAds_Show=function(e){if(console.log("\u63d2\u5c4f\u5e7f\u544a\u663e\u793a"),!this.isdebug){var t=this;if(cc.sys.platform==cc.sys.WECHAT_GAME){if(1==t.chaPingErr)return void(e&&(this.showToast("\u8d44\u6e90\u672a\u51c6\u5907\u597d..."),e()));t.chaPingErr=!0,window.setTimeout(function(){t.chaPingErr=!1},45e3),t.chaPing.show().then(function(){e&&e()}).catch(function(o){console.error(o),t.showToast("\u8d44\u6e90\u672a\u51c6\u5907\u597d..."),console.log("\u5c55\u793a\u5e7f\u544a\u5931\u8d25"),e&&e()})}else if(cc.sys.platform==cc.sys.BYTEDANCE_GAME){if("devtools"==this.getPlatformClass().getSystemInfoSync().appName)return console.log("\u63d2\u5c4f\u5f00\u53d1\u5de5\u5177\u4e0d\u64cd\u4f5c");if(1==t.chaPingErr)return;t.chaPingErr=!0,window.setTimeout(function(){t.chaPingErr=!1},45e3);var o=this.getChaPingId();if(this.getPlatformClass().createInterstitialAd){var n=this.getPlatformClass().createInterstitialAd({adUnitId:o});n.load().then(function(){n.show()}).catch(function(e){console.log(e),setTimeout(function(){n.load().then(function(){n.show})},5)}),n.onClose(function(){n&&n.destroy()})}}else this.platform}},e.prototype.motivational_Video_Load=function(){if(console.log("\u6fc0\u52b1\u5e7f\u544a\u52a0\u8f7d"),!this.isdebug)if(cc.sys.platform==cc.sys.WECHAT_GAME){var e=this,t=this.getVideoId();e.videoAd=this.getPlatformClass().createRewardedVideoAd({adUnitId:t}),e.videoAd.onError(function(e){console.log("\u6fc0\u52b1\u89c6\u9891\u9519\u8bef",e)}),e.videoAd.load();var o=function(t){1==t.isEnded?(null!=e.videoCallBack&&(console.log("\u83b7\u53d6\u5956\u52b1"),e.videoCallBack()),-1!=this._type&&e.showToast("\u5df2\u83b7\u5f97")):null!=e.videoFailCallBack&&e.videoFailCallBack(),e.isvideoend=!0,setTimeout(function(){e.checkVideo=!1},6e4)};e.videoAd.onClose(o)}else if(cc.sys.platform==cc.sys.BYTEDANCE_GAME){if("devtools"==this.getPlatformClass().getSystemInfoSync().appName)return console.log("\u5f00\u53d1\u5de5\u5177\u4e0d\u64cd\u4f5c");e=this,t=this.getVideoId(),this.videoAd=this.getPlatformClass().createRewardedVideoAd({adUnitId:t}),this.videoAd.onError(function(){}),this.videoAd.load(),o=function(t){1==t.isEnded?(null!=e.videoCallBack&&e.videoCallBack(),-1!=this._type&&e.showToast("\u5df2\u83b7\u5f97")):null!=e.videoFailCallBack&&e.videoFailCallBack(),e.isvideoend=!0},e.videoAd.onClose(o)}else this.platform},e.prototype.motivational_Video_Show=function(e,t,o){if(console.log("\u5c55\u793a\u6fc0\u52b1\u89c6\u9891"),this.isdebug)return e();var n=this;if(this.videoCallBack=e,this.videoFailCallBack=t,this._type=o,cc.sys.platform==cc.sys.WECHAT_GAME){if(this._type=o,null==n.videoAd||null==n.videoAd)return this.videoCallBack();n.videoAd.onError(function(e){console.log("\u5e7f\u544a\u51fa\u9519\u76d1\u542c",e)}),n.videoAd.show().then(function(){}).catch(function(e){n.showToast("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u5931\u8d25"),console.log("\u6253\u5370\u6fc0\u52b1\u89c6\u9891\u9519\u8bef",e),n.videoAd.load().then(function(){return n.videoAd.show()})})}else if(cc.sys.platform==cc.sys.BYTEDANCE_GAME){if(this.checkVideo=!0,"devtools"==this.getPlatformClass().getSystemInfoSync().appName)return e(),console.log("\u5f00\u53d1\u5de5\u5177\u4e0d\u64cd\u4f5c");if(null==this.videoAd||null==this.videoAd)return this.videoCallBack();this.videoAd.onError(function(){}),this.videoAd.show().then(function(){}).catch(function(){n.showToast("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u5931\u8d25"),n.videoAd.load().then(function(){return n.videoAd.show()})})}else"ks"==this.platform||n.videoCallBack()},e.prototype.createCustomAd=function(){},e.prototype.recording_Video_Start=function(){if(console.log("\u5f55\u5236\u89c6\u9891\u5f00\u59cb"),!this.isdebug){var e=this;if(cc.sys.platform==cc.sys.BYTEDANCE_GAME){if("devtools"==this.getPlatformClass().getSystemInfoSync().appName)return console.log("\u5f00\u53d1\u5de5\u5177\u4e0d\u64cd\u4f5c");e.videoRecordingState=1,e.videoIsExist=0,e.video_recorder=this.getPlatformClass().getGameRecorderManager(),e.videoStartTime=Date.parse((new Date).toString()),e.video_recorder.onStart(function(){}),e.video_recorder.start({duration:e.recorderTime}),e.video_recorder.onStop(function(t){e.videoRecordingState=2,e.videoPath=t.videoPath}),e.video_recorder.onError(function(){})}}},e.prototype.recording_Video_End=function(){if(console.log("\u5f55\u5236\u89c6\u9891\u7ed3\u675f"),!this.isdebug&&cc.sys.platform==cc.sys.BYTEDANCE_GAME){if("devtools"==this.getPlatformClass().getSystemInfoSync().appName)return console.log("\u5f00\u53d1\u5de5\u5177\u4e0d\u64cd\u4f5c");this.video_recorder&&((Date.parse((new Date).toString())-this.videoStartTime)/1e3<=5?this.videoIsExist=1:this.videoIsExist=0,this.video_recorder.stop())}},e.prototype.recording_Video_Share=function(e,t){if(console.log("\u5f55\u5236\u89c6\u9891\u5206\u4eab"),this.isdebug)return e();if(cc.sys.platform==cc.sys.BYTEDANCE_GAME){if("devtools"==this.getPlatformClass().getSystemInfoSync().appName)return console.log("\u5f00\u53d1\u5de5\u5177\u4e0d\u64cd\u4f5c");var o=this;if(1==o.videoIsExist)return void o.showToast("\u5f55\u5236\u65f6\u95f4\u8fc7\u77ed");o.videoRecordingState=3,this.getPlatformClass().shareAppMessage({channel:"video",title:"",imageUrl:"",query:"",extra:{videoPath:o.videoPath,videoTopics:o.tt_info.videoTopics,createChallenge:!0},success:function(){o.showToast("\u5206\u4eab\u89c6\u9891\u6210\u529f"),e()},fail:function(){o.showToast("\u5206\u4eab\u89c6\u9891\u5931\u8d25"),t()}})}else cc.sys.platform==cc.sys.WECHAT_GAME?this.game_share(function(){}):e()},e.prototype.getVideoIsExist=function(){return this.videoIsExist},e.prototype.addShortcut=function(e,t){if(this.isdebug)return e();this.getPlatformClass().addShortcut({success:function(){this.showToast("\u6dfb\u52a0\u684c\u9762\u6210\u529f"),e()},fail:function(){this.showToast("\u6dfb\u52a0\u684c\u9762\u5931\u8d25"),t()}})},e.prototype.checkShortcut=function(){if(!this.isdebug){if(cc.sys.platform!=cc.sys.WECHAT_GAME&&cc.sys.platform!=cc.sys.BYTEDANCE_GAME||cc.sys.os!=cc.sys.OS_ANDROID)return!0;var e=this.getPlatformClass().getSystemInfoSync().SDKVersion;if(!(n.default.compareVersion(e,"2.46.0")>=0))return!0;this.getPlatformClass().checkShortcut({success:function(e){return e.status.exist},fail:function(){return!0}})}},e.prototype.showToast=function(e){cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.platform==cc.sys.BYTEDANCE_GAME?this.getPlatformClass().showToast({title:e,duration:1e3,success:function(){},fail:function(){}}):console.log(e)},e.prototype.getRandomValueDif=function(e,t,o){for(var n=new Array,i=o?o>t-e+1?t-e+1:o:1,a=e,c=0;a<=t;a++,c++)n[c]=a;var s=[];n.sort(function(){return.5-Math.random()});for(var r=0;r<i;r++){var l=Math.floor(Math.random()*n.length);s.push(n[l]);var u=n[l];n[l]=n[n.length-1],n[n.length-1]=u,n.pop()}return s},e.prototype.getRangeRandom=function(e,t){return this.getRandomValueDif(e,t,1)[0]},e.prototype.vibrateShort=function(){cc.sys.platform!=cc.sys.WECHAT_GAME&&cc.sys.platform!=cc.sys.BYTEDANCE_GAME||this.getPlatformClass().vibrateShort()},e.prototype.setImRankData_Num=function(e){if(!this.isdebug&&cc.sys.platform==cc.sys.BYTEDANCE_GAME){var t=tt.getSystemInfoSync(),o=t.SDKVersion,i=t.appName,a=t.version;n.default.compareVersion(o,"2.70.0")>=0&&("Douyin"==i||"douyin_lite"==i)&&n.default.compareVersion(a,"23.2.0")>=0&&tt.setImRankData({dataType:0,value:""+e,priority:0,extra:"extra",success:function(e){console.log("setImRankData success res: "+e)},fail:function(e){console.log("setImRankData fail res: "+e.errMsg)}})}},e.prototype.getImRankList_Num=function(){if(!this.isdebug&&cc.sys.platform==cc.sys.BYTEDANCE_GAME){var e=tt.getSystemInfoSync(),t=e.SDKVersion,o=e.appName,i=e.version;n.default.compareVersion(t,"2.70.0")>=0&&("Douyin"==o||"douyin_lite"==o)&&n.default.compareVersion(i,"23.2.0")>=0?tt.getImRankList({relationType:"default",dataType:0,rankType:"day",suffix:"\u5173",rankTitle:"\u6e38\u620f\u6392\u884c\u699c",success:function(e){console.log("getImRankData success res: "+e)},fail:function(e){console.log("getImRankData fail res: "+e.errMsg)}}):this.showToast("app\u7248\u672c\u4e0d\u652f\u6301\u8be5\u529f\u80fd")}},e.prototype.setImRankData_Enum=function(e,t){if(!this.isdebug&&cc.sys.platform==cc.sys.BYTEDANCE_GAME){var o=tt.getSystemInfoSync(),i=o.SDKVersion,a=o.appName,c=o.version;n.default.compareVersion(i,"2.70.0")>=0&&("Douyin"==a||"douyin_lite"==a)&&n.default.compareVersion(c,"23.2.0")>=0&&tt.setImRankData({dataType:1,value:""+e,priority:t,extra:"extra",success:function(e){console.log("setImRankData success res: "+e)},fail:function(e){console.log("setImRankData fail res: "+e.errMsg)}})}},e.prototype.getImRankList_Enum=function(){if(!this.isdebug&&cc.sys.platform==cc.sys.BYTEDANCE_GAME){var e=tt.getSystemInfoSync(),t=e.SDKVersion,o=e.appName,i=e.version;n.default.compareVersion(t,"2.70.0")>=0&&("Douyin"==o||"douyin_lite"==o)&&n.default.compareVersion(i,"23.2.0")>=0?tt.getImRankList({relationType:"default",dataType:1,rankType:"day",suffix:"",rankTitle:"\u6e38\u620f\u6392\u884c\u699c",success:function(e){console.log("getImRankData success res: "+e)},fail:function(e){console.log("getImRankData fail res: "+e.errMsg)}}):this.showToast("app\u7248\u672c\u4e0d\u652f\u6301\u8be5\u529f\u80fd")}},e._instance=null,e}();o.default=i,cc._RF.pop()},{"../utils":"utils"}],gameStorage:[function(e,t,o){"use strict";cc._RF.push(t,"aa5d9EL3k9BnZ92uju9mxT3","gameStorage"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./Define"),i=e("./PlayData"),a=function(){function e(){}return e.playMusic=function(e){1==this.getMusic()&&(this.stopMusic(),cc.audioEngine.play(e,!0,.4))},e.pauseMusic=function(){1==this.getMusic()&&cc.audioEngine.pauseAll()},e.resumeMusic=function(){1==this.getMusic()&&cc.audioEngine.resumeAll()},e.stopMusic=function(){cc.audioEngine.stopAll()},e.playSound=function(e,t){1==this.getSound()&&cc.audioEngine.play(e,!1,t)},e.setGold=function(e){cc.sys.localStorage.setItem("gold",e)},e.getGold=function(){var e=cc.sys.localStorage.getItem("gold");return void 0===e||""===e||null===e||"NaN"===e?(e=0,this.setGold(e),e):Number(e)},e.addGold=function(e){var t=this.getGold();console.log("\u6253\u5370\u83b7\u53d6\u7684\u91d1\u5e01",t),t+=e,this.setGold(t)},e.setCheckPoint=function(e,t){var o=JSON.stringify(t);cc.sys.localStorage.setItem("checkpoint"+e,o)},e.getCheckPoint=function(e){var t=cc.sys.localStorage.getItem("checkpoint"+e);return""===t||null===t||"NaN"===t||void 0===t?[0,0,[],0]:JSON.parse(t)},e.setCheckPoint_zuqiu=function(e){cc.sys.localStorage.setItem("checkpoint",e)},e.getCheckPoint_zuqiu=function(){var e=cc.sys.localStorage.getItem("checkpoint");return e=e||0,Number(e)},e.setSXCheckPoint=function(e,t){cc.sys.localStorage.setItem("sx_checkpoint"+e,t)},e.getSXCheckPoint=function(e){var t=cc.sys.localStorage.getItem("sx_checkpoint"+e);return t=t||0,Number(t)},e.setSXAdNum=function(e,t){cc.sys.localStorage.setItem("sx_adnum"+e,t)},e.getSXAdNum=function(e){var t=cc.sys.localStorage.getItem("sx_adnum"+e);return t=t||0,Number(t)},e.setVipNum=function(e){cc.sys.localStorage.setItem("vipnum",e)},e.getVipNum=function(){var e=cc.sys.localStorage.getItem("vipnum");return e=e||0,Number(e)},e.setCheckPointStar=function(e){var t=JSON.stringify(e);cc.sys.localStorage.setItem("checkstar",t)},e.getCheckPointStar=function(){var e=cc.sys.localStorage.getItem("checkstar");return e?JSON.parse(e):[]},e.setAuto=function(e){cc.sys.localStorage.setItem("battleAuto",e)},e.getAuto=function(){var e=cc.sys.localStorage.getItem("battleAuto");return e=e||0,Number(e)},e.setOpenId=function(e){cc.sys.localStorage.setItem("openid",e)},e.getOpenId=function(){return cc.sys.localStorage.getItem("openid")||""},e.setUserInfo=function(){var e=JSON.stringify(i.default.Instance.userInfo);cc.sys.localStorage.setItem("userinfo",e)},e.getUserInfo=function(){var e=cc.sys.localStorage.getItem("userinfo")||null;if(e){var t=JSON.parse(e);i.default.Instance.userInfo.hightScore=t.hightScore,i.default.Instance.userInfo.icon=t.icon,i.default.Instance.userInfo.openid=t.openid,i.default.Instance.userInfo.name=t.name}return i.default.Instance.userInfo},e.setUserSysInfo=function(){var e=JSON.stringify(i.default.Instance.userSysInfo);cc.sys.localStorage.setItem("usersysinfo",e)},e.getUserSysInfo=function(){var e=cc.sys.localStorage.getItem("usersysinfo")||null;if(e){var t=JSON.parse(e);i.default.Instance.userSysInfo.cid=t.cid,i.default.Instance.userSysInfo.cip=t.cip,i.default.Instance.userSysInfo.cname=t.cname}return i.default.Instance.userInfo},e.getHighScore=function(){var e=cc.sys.localStorage.getItem("highScore");return e=e||0,Number(e)},e.setHighScore=function(e){cc.sys.localStorage.setItem("highScore",e)},e.setSkin=function(e){var t=JSON.stringify(e);cc.sys.localStorage.setItem("skin",t)},e.getSkin=function(){var e=cc.sys.localStorage.getItem("skin");return e?JSON.parse(e):[1,0,0,0,0,0]},e.getUseSkinId=function(){return 0},e.getBingDong=function(){var e=cc.sys.localStorage.getItem("bingdong");return void 0===e||""===e||null===e||"NaN"===e?(e=1,this.setBingDong(e),e):Number(e)},e.setBingDong=function(e){cc.sys.localStorage.setItem("bingdong",e)},e.getHuDun=function(){var e=cc.sys.localStorage.getItem("hudun");return void 0===e||""===e||null===e||"NaN"===e?(e=1,this.setHuDun(e),e):Number(e)},e.setHuDun=function(e){cc.sys.localStorage.setItem("hudun",e)},e.setMusic=function(e){cc.sys.localStorage.setItem("music",e)},e.getMusic=function(){var e=cc.sys.localStorage.getItem("music");return e=e||1,Number(e)},e.setSound=function(e){cc.sys.localStorage.setItem("sound",e)},e.getSound=function(){var e=cc.sys.localStorage.getItem("sound");return e?e=Number(e):(e=0,this.setSound(e)),e},e.setzhendong=function(e){cc.sys.localStorage.setItem("zhendong",e)},e.getzhendong=function(){var e=cc.sys.localStorage.getItem("zhendong");return e?e=Number(e):(e=0,this.setzhendong(e)),e},e.setZhong=function(e){var t=JSON.stringify(e);cc.sys.localStorage.setItem("zhong",t)},e.getZhong=function(){var e=cc.sys.localStorage.getItem("zhong");return e?JSON.parse(e):[]},e.setLoginData=function(e){cc.sys.localStorage.setItem("riqi",e)},e.getLoginData=function(){var e=cc.sys.localStorage.getItem("riqi");return e=e||0,Number(e)},e.setSignData=function(e){cc.sys.localStorage.setItem("signData",e)},e.getSignData=function(){var e=cc.sys.localStorage.getItem("signData");return e=e||0,Number(e)},e.getSkinData=function(){var e=cc.sys.localStorage.getItem("gameskin");return void 0===e||""===e||null===e||"NaN"===e?(e=[1,1,0,0,0,0],this.setSkinData(e),e):JSON.parse(e)},e.setSkinData=function(e){var t=JSON.stringify(e);cc.sys.localStorage.setItem("gameskin",t)},e.getHaveSkinData=function(){for(var e=[],t=this.getSkinData(),o=0;o<t.length;o++)1==t[o]&&e.push(o);return e},e.getSelectSkinId=function(){var e=cc.sys.localStorage.getItem("selectSkinId");return e=e||0,Number(e)},e.setSelectSkinId=function(e){cc.sys.localStorage.setItem("selectSkinId",e)},e.getSelectBgId=function(){for(var e=this.getSkinData(),t=0,o=0;o<e.length;o++)1==e[o]&&(t=o);return t},e.setEnergy=function(e){i.default.Instance.nowEnery=e,cc.sys.localStorage.setItem("tili",e)},e.getEnergy=function(){var e=cc.sys.localStorage.getItem("tili");return null!=e&&""!==e&&"NaN"!==e||(e=n.default.maxEnery,this.setEnergy(e)),i.default.Instance.nowEnery=Number(e),Number(e)},e.setLoginIndex=function(e){cc.sys.localStorage.setItem("loginindex",e)},e.getLoginIndex=function(){var e=cc.sys.localStorage.getItem("loginindex");return e=e||0,Number(e)},e.setoffLineTime=function(){var e=(new Date).getTime();cc.sys.localStorage.setItem("logintime",e)},e.getoffLineTime=function(){var e=cc.sys.localStorage.getItem("logintime");return e=e||0,Number(e)},e.setSignDate=function(e){cc.sys.localStorage.setItem("signdata",e)},e.getSignDate=function(){var e=cc.sys.localStorage.getItem("signdata");return e=e||0,Number(e)},e.judgeControl=function(){},e.setOpenDanData=function(e){var t=JSON.stringify(e);cc.sys.localStorage.setItem("opendan",t)},e.getOpenDanData=function(){var e,t=(new Date).getDate(),o=cc.sys.localStorage.getItem("opendan");return o?(e=JSON.parse(o))[0]!=t?[t,0,0]:e:((e=[0,0,0])[0]=t,e)},e}();o.default=a,cc._RF.pop()},{"./Define":"Define","./PlayData":"PlayData"}],loading:[function(e,t,o){"use strict";cc._RF.push(t,"913b07TOjtDvJKUDI1NxXfq","loading");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,r=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){var e=this;cc.tween(this.node).delay(10).call(function(){e.node.destroy()}).start()},t.prototype.start=function(){},a([s],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],pausePanel:[function(e,t,o){"use strict";cc._RF.push(t,"b2f5aRAXxdCJosaWcvPejts","pausePanel");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./common/Define"),s=e("./common/gameStorage"),r=e("./common/PlayData"),l=e("./common/sdkTools/gameShareAdsVideo"),u=e("./GamePrefab"),d=cc._decorator,h=d.ccclass,p=d.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.zhendong=null,t.yinyue=null,t.addtiliprefab=null,t.loading=null,t}return i(t,e),t.prototype.onLoad=function(){this.loading=u.default.Instance.uiPre.loading,this.addtiliprefab=u.default.Instance.uiPre.addEngry,l.default.Instance.chaPingAds_Show(),l.default.Instance.bannerAds_Show(),this.zhendong.active=!(1==s.default.getzhendong()),this.yinyue.active=1==s.default.getSound();var e=cc.winSize,t=cc.find("kuang",this.node);t.y=e.height/2+300,cc.tween(t).to(.2,{position:cc.v3(0,0,0)}).call(function(){cc.director.pause()}).start()},t.prototype.start=function(){},t.prototype.close=function(){cc.director.resume(),l.default.Instance.bannerAds_Hide(),this.node.destroy()},t.prototype.replay=function(){switch(l.default.Instance.bannerAds_Hide(),l.default.Instance.recording_Video_End(),r.default.Instance.gameType){case c.GameType.guanqia:case c.GameType.wujin:cc.director.resume(),cc.director.loadScene("GameScene");break;case c.GameType.gecao:break;case c.GameType.sanxiaotuitui:cc.director.resume(),cc.director.loadScene("SanXiaoScene");break;case c.GameType.sanxiaotutu:cc.director.resume(),cc.director.loadScene("SanXiaoTuYaScene")}},t.prototype.addLoading=function(){cc.instantiate(this.loading).parent=cc.director.getScene()},t.prototype.zhendongclick=function(){this.zhendong.active=!this.zhendong.active,this.zhendong.active?s.default.setzhendong(0):s.default.setzhendong(1)},t.prototype.yinyueclick=function(){this.yinyue.active=!this.yinyue.active,this.yinyue.active?(s.default.setSound(1),cc.audioEngine.stopAll()):(s.default.setSound(0),cc.game.emit("playbg"))},t.prototype.backToStartScene=function(){cc.director.resume(),l.default.Instance.recording_Video_End(),l.default.Instance.bannerAds_Hide(),cc.instantiate(this.loading).parent=cc.director.getScene(),cc.director.loadScene("MainScene")},a([p(cc.Node)],t.prototype,"zhendong",void 0),a([p(cc.Node)],t.prototype,"yinyue",void 0),a([h],t)}(cc.Component);o.default=f,cc._RF.pop()},{"./GamePrefab":"GamePrefab","./common/Define":"Define","./common/PlayData":"PlayData","./common/gameStorage":"gameStorage","./common/sdkTools/gameShareAdsVideo":"gameShareAdsVideo"}],sanxiaotuGameSc:[function(e,t,o){"use strict";cc._RF.push(t,"55787fhe71JwJ1/+jSH4spi","sanxiaotuGameSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../../common/Define"),s=e("../../common/gameStorage"),r=e("../../common/PlayData"),l=e("../../common/sdkTools/gameShareAdsVideo"),u=e("../../common/utils"),d=e("../../GamePrefab"),h=e("../../sanxiao/SanXiaoGameEndSc"),p=e("../../sanxiao/StoneSc"),f=cc._decorator,g=f.ccclass,y=f.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stoneNode=null,t.stoneRes=[],t.timestr=null,t.diaoluostr=null,t.guanstr=null,t.endpanel=null,t.checkoutNode=null,t.jinduBar=null,t.moveStage=null,t.renStage=null,t.renSpine=null,t.texiao=null,t.clickBlock=null,t.diaolou=null,t.lujing=null,t.gameState=c.GameState.none,t.daojishi=60,t.diaoluoNum=0,t.gamedata=null,t.pushPower=14,t.dingzhuNum=100,t.biaoji=null,t.stonenum=200,t.levelupNum=150,t}return i(t,e),t.prototype.onLoad=function(){this.setGameModel(),this.showLuJing(),this.gamedata=s.default.getCheckPoint(r.default.Instance.gameType),this.timestr.string=u.default.secondsFormat(this.daojishi,!1),this.guanstr.string="\u5173\u5361\u6570:"+(this.gamedata[0]+1),this.diaoluostr.string="\u6389\u843d\u6570\u91cf:"+this.diaoluoNum,this.jinduBar.progress=0,this.addCheckOut()},t.prototype.start=function(){var e=this;this.addStoneCell(),this.scheduleOnce(function(){e.gameState=c.GameState.gaming,e.startCutTime(),e.pushMoveStage()},4)},t.prototype.setGameModel=function(){var e=cc.find("modelNode345",this.node);this.renStage=cc.find("ren_stage",e).getComponent(cc.RigidBody),this.renStage.node.x=90,this.moveStage=cc.find("move_stage",e).getComponent(cc.RigidBody),this.moveStage.type=cc.RigidBodyType.Static},t.prototype.addCheckOut=function(){var e=this.gamedata[0]%4;cc.instantiate(d.default.Instance.sxttCheckPre["lujing"+e]).parent=this.checkoutNode},t.prototype.startCutTime=function(){var e=this;this.schedule(function(){e.gameState==c.GameState.gaming&&(e.daojishi--,e.timestr.string=u.default.secondsFormat(e.daojishi,!1),0==e.daojishi&&(console.log("\u6e38\u620f\u7ed3\u675f"),e.gameState=c.GameState.gameover,e.moveStage.linearVelocity=cc.v2(0,0),e.unscheduleAllCallbacks(),e.showGameEnd(!1)))},1,cc.macro.REPEAT_FOREVER)},t.prototype.showGameEnd=function(e){var t=cc.instantiate(this.endpanel);t.parent=cc.director.getScene(),t.getComponent(h.default).setGameEndType(e)},t.prototype.addStoneCell=function(){var e=this;this.playDiaoLouSound();var t=this.stoneRes.length;this.schedule(function(){var o=u.default.getRangeRandom(0,t-1),n=cc.instantiate(e.stoneRes[o]),i=u.default.getRangeRandom(-210,270);n.position=cc.v3(i,500,0),n.parent=e.stoneNode,n.getComponent(p.default).setGameSc(e)},0,this.stonenum)},t.prototype.pushMoveStage=function(){if(this.moveStage.type=cc.RigidBodyType.Dynamic,this.checkCanMoveStage(),this.moveStage.node.x>=150)this.moveStage.type=cc.RigidBodyType.Static,this.moveStage.linearVelocity=cc.v2(0,0);else{var e=cc.v2(this.pushPower,0);this.moveStage.linearVelocity=e}},t.prototype.checkCanMoveStage=function(){var e=0;if(this.moveStage.node.x>40&&this.moveStage.type==cc.RigidBodyType.Dynamic)for(var t=this.stoneNode.children,o=0;o<t.length;o++)t[o].y>285&&e++;this.pushPower=e>80?0:14},t.prototype.renMoveStage=function(){if(this.renStage.node.x<=-210)this.renStage.type=cc.RigidBodyType.Static,this.renStage.linearVelocity=cc.v2(0,0);else{var e=cc.v2(-5,0);this.renStage.linearVelocity=e}},t.prototype.addDiaoLuoNum=function(){this.gameState==c.GameState.gaming&&(this.diaoluoNum++,this.diaoluostr.string="\u6389\u843d\u6570\u91cf:"+this.diaoluoNum,this.jinduBar.progress=this.diaoluoNum/this.stonenum,this.jinduBar.progress>=.8&&(this.gamedata[0]+=1,s.default.setCheckPoint(r.default.Instance.gameType,this.gamedata),this.gameState=c.GameState.gameover,this.showGameEnd(!0)))},t.prototype.playDiaoLouSound=function(){1!=s.default.getSound()&&cc.audioEngine.playEffect(this.diaolou,!1)},t.prototype.showLuJing=function(){},t.prototype.setBtn=function(){cc.instantiate(d.default.Instance.uiPre.pausePanel).parent=cc.director.getScene()},t.prototype.addTimeBtn=function(){if(this.gameState==c.GameState.gaming){var e=this;l.default.Instance.motivational_Video_Show(function(){e.daojishi+=60,e.timestr.string=u.default.secondsFormat(e.daojishi,!1)},function(){})}},t.prototype.update=function(){this.gameState==c.GameState.gaming&&(this.pushMoveStage(),this.renMoveStage())},a([y(cc.Node)],t.prototype,"stoneNode",void 0),a([y([cc.Prefab])],t.prototype,"stoneRes",void 0),a([y(cc.Label)],t.prototype,"timestr",void 0),a([y(cc.Label)],t.prototype,"diaoluostr",void 0),a([y(cc.Label)],t.prototype,"guanstr",void 0),a([y(cc.Prefab)],t.prototype,"endpanel",void 0),a([y(cc.Node)],t.prototype,"checkoutNode",void 0),a([y(cc.ProgressBar)],t.prototype,"jinduBar",void 0),a([y(cc.Prefab)],t.prototype,"texiao",void 0),a([y(cc.AudioClip)],t.prototype,"clickBlock",void 0),a([y(cc.AudioClip)],t.prototype,"diaolou",void 0),a([y(cc.Label)],t.prototype,"lujing",void 0),a([g],t)}(cc.Component);o.default=m,cc._RF.pop()},{"../../GamePrefab":"GamePrefab","../../common/Define":"Define","../../common/PlayData":"PlayData","../../common/gameStorage":"gameStorage","../../common/sdkTools/gameShareAdsVideo":"gameShareAdsVideo","../../common/utils":"utils","../../sanxiao/SanXiaoGameEndSc":"SanXiaoGameEndSc","../../sanxiao/StoneSc":"StoneSc"}],utils:[function(require,module,exports){"use strict";cc._RF.push(module,"bbd9dnzGYNA35JKa2WpkhcV","utils"),Object.defineProperty(exports,"__esModule",{value:!0});var utils=function(){function utils(){}return utils.getRandomValueDif=function(e,t,o){for(var n=new Array,i=o?o>t-e+1?t-e+1:o:1,a=e,c=0;a<=t;a++,c++)n[c]=a;var s=[];n.sort(function(){return.5-Math.random()});for(var r=0;r<i;r++){var l=Math.floor(Math.random()*n.length);s.push(n[l]);var u=n[l];n[l]=n[n.length-1],n[n.length-1]=u,n.pop()}return s},utils.getRangeRandom=function(e,t){return utils.getRandomValueDif(e,t,1)[0]},utils.secondsFormat=function(e,t){var o,n,i=Math.floor(e/3600),a=Math.floor((e-3600*i)/60),c=e-3600*i-60*a;return o=a<10?"0"+a:""+a,n=c<10?"0"+c:""+c,t?(i<10?"0"+i:""+i)+":"+o+":"+n:o+":"+n},utils.compareVersion=function(e,t){e=e.split("."),t=t.split(".");for(var o=Math.max(e.length,t.length);e.length<o;)e.push("0");for(;t.length<o;)t.push("0");for(var n=0;n<o;n++){var i=parseInt(e[n]),a=parseInt(t[n]);if(i>a)return 1;if(i<a)return-1}return 0},utils.toCode=function(e){for(var t,o,n,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",a=i.length,c=i.split(""),s="",r=0;r<e.length;r++)s+=c[(t=((t=((t=e.charCodeAt(r))-(o=t%a))/a)-(n=t%a))/a)%a]+c[n]+c[o];return s},utils.fromCode=function(str){var key="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",l=key.length,b,bl,b2,b3,d=0,s;s=new Array(Math.floor(str.length/3)),b=s.length;for(var i=0;i<b;i++)bl=key.indexOf(str.charAt(d)),d++,b2=key.indexOf(str.charAt(d)),d++,b3=key.indexOf(str.charAt(d)),d++,s[i]=bl*l*l+b2*l+b3;return b=eval("String.fromCharCode("+s.join(",")+")"),b},utils.compileStr=function(e){for(var t=String.fromCharCode(e.charCodeAt(0)+e.length),o=1;o<e.length;o++)t+=String.fromCharCode(e.charCodeAt(o)+e.charCodeAt(o-1));return escape(t)},utils.uncompileStr=function(e){e=decodeURI(e);for(var t=String.fromCharCode(e.charCodeAt(0)-e.length),o=1;o<e.length;o++)t+=String.fromCharCode(e.charCodeAt(o)-t.charCodeAt(o-1));return t},utils.getRiQi=function(){return(new Date).getDate()},utils.shuffle=function(e){for(var t,o,n=e.length;n;)o=e[t=Math.floor(Math.random()*n--)],e[t]=e[n],e[n]=o;return e},utils.randChunkSplit=function(e,t,o){e=e.slice();var n=[],i=1;for(t=t||1,o=o||t||1;e.length>0;)i=Math.min(o,Math.floor(Math.random()*o+t)),n.push(e.splice(0,i));return n},utils.deepClone=function(e){return null===e||"object"!=typeof e?e:e instanceof Date?new Date(e.getTime()):e instanceof Array?e.reduce(function(e,t,o){return e[o]=utils.deepClone(t),e},[]):e instanceof Object?Object.keys(e).reduce(function(t,o){return t[o]=utils.deepClone(e[o]),t},{}):void 0},utils.createArrayWithoutConsecutiveThrees=function(e,t,o){var n=Array.from({length:e},function(){return Array(t).fill(-1)});function i(e,t,o){return!(t>=2&&n[e][t-1]===o&&n[e][t-2]===o||e>=2&&n[e-1][t]===o&&n[e-2][t]===o)}for(var a=0;a<e;a++)for(var c=0;c<t;c++){for(var s=[],r=0;r<=o;r++)i(a,c,r)&&s.push(r);var l=Math.floor(Math.random()*s.length);n[a][c]=s[l]}return n},utils}();exports.default=utils,cc._RF.pop()},{}]},{},["LoadScene","AudioManager","GamePrefab","MainScene","TopUi","addEngry","Define","GameData","PlayData","gameStorage","cocosAnalyticsSdk","gameCheckLogin","gameNetWorkState","gameShareAdsVideo","utils","loading","pausePanel","CellSc","SanXiaoGameEndSc","SanXiaoGameSc","StoneSc","Main_poly_piecewise","PhysicsPolygonColliderEx_piecewise","sanxiaotuGameSc"]);