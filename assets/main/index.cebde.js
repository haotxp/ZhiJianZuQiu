window.__require=function e(t,o,n){function i(c,r){if(!o[c]){if(!t[c]){var s=c.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!r&&l)return l(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var u=o[c]={exports:{}};t[c][0].call(u.exports,function(e){return i(t[c][1][e]||e)},u,u.exports,e,t,o,n)}return o[c].exports}for(var a="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({AudioManager:[function(e,t,o){"use strict";cc._RF.push(t,"50b17H1IdBJZJbuer7jvh1M","AudioManager");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./common/gameStorage"),r=cc._decorator,s=r.ccclass,l=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bg=null,t.leveUpClip=null,t.getKey=null,t.overSound=null,t.timecold=null,t.hudun=null,t}return i(t,e),t.prototype.start=function(){var e=this;cc.game.on("levelup",function(){1!=c.default.getSound()&&cc.audioEngine.playEffect(e.leveUpClip,!1)},this),cc.game.on("death",function(){1!=c.default.getSound()&&cc.audioEngine.playEffect(e.overSound,!1)},this),cc.game.on("getkey",function(){1!=c.default.getSound()&&cc.audioEngine.playEffect(e.getKey,!1)},this),cc.game.on("playbg",function(){1!=c.default.getSound()&&cc.audioEngine.play(e.bg,!0,1)},this),cc.game.on("timecold",function(){1!=c.default.getSound()&&cc.audioEngine.playEffect(e.timecold,!1)},this),cc.game.on("hudun",function(){1!=c.default.getSound()&&cc.audioEngine.playEffect(e.hudun,!1)},this)},t.prototype.updateUi=function(){},a([l(cc.AudioClip)],t.prototype,"bg",void 0),a([l(cc.AudioClip)],t.prototype,"leveUpClip",void 0),a([l(cc.AudioClip)],t.prototype,"getKey",void 0),a([l(cc.AudioClip)],t.prototype,"overSound",void 0),a([l(cc.AudioClip)],t.prototype,"timecold",void 0),a([l(cc.AudioClip)],t.prototype,"hudun",void 0),a([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"./common/gameStorage":"gameStorage"}],CellSc:[function(e,t,o){"use strict";cc._RF.push(t,"953d4LbKtRD/LtJ/ucos1gs","CellSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../common/Define"),r=e("../GamePrefab"),s=cc._decorator,l=s.ccclass,u=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.kuang=null,t.icon=null,t.cellid=-1,t.cellw=-1,t.cellh=-1,t.sPos=null,t.ePos=null,t.changeCellw=-1,t.changeCellh=-1,t.changeCell=null,t.gamesc=null,t.movedir=-1,t.oriPos=null,t.cellSize=64,t.cellNum_W=10,t.cellNum_H=11,t.iconPos_Scale=[[2.129,-1.995,.78],[2.704,-1.082,.75],[2.327,-.776,.73],[1.999,-.657,.75],[1.666,-.869,.7],[2.354,-1.825,.78]],t.cellname=["hong","huang","lan","lv"],t}return i(t,e),t.prototype.onLoad=function(){this.cellNum_W=c.default.cellNum_W,this.cellNum_H=c.default.cellNum_H,this.kuang=this.node.getComponent(cc.Sprite),this.node.on(cc.Node.EventType.TOUCH_START,this.cellTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.cellTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.cellTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.cellTouchEnd,this),this.oriPos=this.node.position},t.prototype.start=function(){},t.prototype.cellTouchStart=function(e){this.oriPos=this.node.position,this.sPos=e.getLocation();var t=this.node.name.split("cell")[1].split("_");this.cellw=Number(t[0]),this.cellh=Number(t[1])},t.prototype.cellTouchMove=function(e){if(-1!=this.movedir){var t=this.node.name.split("cell")[1].split("_");if(this.cellw=Number(t[0]),this.cellh=Number(t[1]),0==this.movedir){var o=this.node.parent.convertToNodeSpaceAR(e.getLocation()).x;if(this.node.x=o,this.node.x>this.oriPos.x){if(this.cellw==this.cellNum_W-1||-1==this.gamesc.shudata[this.cellw+1][this.cellh])return this.node.x=this.oriPos.x,void(this.movedir=-1)}else if(this.node.x<this.oriPos.x&&(0==this.cellw||-1==this.gamesc.shudata[this.cellw-1][this.cellh]))return this.node.x=this.oriPos.x,void(this.movedir=-1);if(this.node.x<this.oriPos.x-this.cellSize?this.node.x=this.oriPos.x-this.cellSize:this.node.x>this.oriPos.x+this.cellSize&&(this.node.x=this.oriPos.x+this.cellSize),this.node.x>this.oriPos.x){var n=this.node.x-this.oriPos.x,i=cc.v3(this.oriPos.x+this.cellSize-n,this.oriPos.y,0);this.changeCellPos([this.cellw+1,this.cellh],i)}else this.node.x<this.oriPos.x&&(n=this.oriPos.x-this.node.x,i=cc.v3(this.oriPos.x-this.cellSize+n,this.oriPos.y,0),this.changeCellPos([this.cellw-1,this.cellh],i))}else if(1==this.movedir){var a=this.node.parent.convertToNodeSpaceAR(e.getLocation()).y;if(this.node.y=a,this.node.y>this.oriPos.y){if(this.cellh==this.cellNum_H-1||-1==this.gamesc.shudata[this.cellw][this.cellh+1])return this.node.y=this.oriPos.y,void(this.movedir=-1)}else if(this.node.y<this.oriPos.y&&(0==this.cellh||-1==this.gamesc.shudata[this.cellw][this.cellh-1]))return this.node.y=this.oriPos.y,void(this.movedir=-1);this.node.y<this.oriPos.y-this.cellSize?this.node.y=this.oriPos.y-this.cellSize:this.node.y>this.oriPos.y+this.cellSize&&(this.node.y=this.oriPos.y+this.cellSize),this.node.y>this.oriPos.y?(n=this.node.y-this.oriPos.y,i=cc.v3(this.oriPos.x,this.oriPos.y+this.cellSize-n,0),this.changeCellPos([this.cellw,this.cellh+1],i)):this.node.y<this.oriPos.y&&(n=this.oriPos.y-this.node.y,i=cc.v3(this.oriPos.x,this.oriPos.y-this.cellSize+n,0),this.changeCellPos([this.cellw,this.cellh-1],i))}}else{this.ePos=e.getLocation();var c=Math.abs(this.ePos.x-this.sPos.x),r=Math.abs(this.ePos.y-this.sPos.y);if(n=5,c>r){if(c>n)return void(this.movedir=0)}else if(r>n)return void(this.movedir=1)}},t.prototype.cellTouchEnd=function(){-1!=this.changeCellw&&-1!=this.changeCellh&&(Math.abs(this.node.x-this.oriPos.x)<20&&Math.abs(this.node.y-this.oriPos.y)<20?this.reBack():1==this.gamesc.checkCell([this.cellw,this.cellh],[this.changeCellw,this.changeCellh])?(this.node.position=this.gamesc.cellPosData[this.changeCellw][this.changeCellh],this.changeCell.position=this.gamesc.cellPosData[this.cellw][this.cellh],this.node.name="cell"+this.changeCellw+"_"+this.changeCellh,this.changeCell.name="cell"+this.cellw+"_"+this.cellh,this.changeCellw=-1,this.changeCellh=-1,this.changeCell=null):this.reBack())},t.prototype.reBack=function(){this.movedir=-1,this.node.position=this.oriPos,null!=this.changeCell&&(this.changeCell.position=this.gamesc.cellPosData[this.changeCellw][this.changeCellh],this.changeCell=null,this.changeCellw=-1,this.changeCellh=-1)},t.prototype.changeCellPos=function(e,t){var o=e[0],n=e[1],i="cell"+o+"_"+n,a=cc.find(i,this.gamesc.xiaochuNode);a.position=t,null==this.changeCell?(this.changeCellw=o,this.changeCellh=n,this.changeCell=a):a!=this.changeCell&&(this.changeCell.position=this.gamesc.cellPosData[this.changeCellw][this.changeCellh],this.changeCellw=o,this.changeCellh=n,this.changeCell=a)},t.prototype.setCellId=function(e){this.cellid=e;var t=this.cellname[e];this.kuang.spriteFrame=r.default.Instance.cellSpRes[t]},t.prototype.setCellWH=function(e,t){this.cellw=e,this.cellh=t},t.prototype.setGameSc=function(e){this.gamesc=e},a([l],t)}(cc.Component));o.default=u,cc._RF.pop()},{"../GamePrefab":"GamePrefab","../common/Define":"Define"}],Define:[function(e,t,o){"use strict";cc._RF.push(t,"447f97b5zVCJKtSGRsQGJHN","Define"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameType=o.GameState=o.GameOverType=o.TiledType=o.SceneName=o.ItemType=void 0,function(e){e[e.YaoShi=0]="YaoShi",e[e.FeiDao=1]="FeiDao",e[e.FeiCi=2]="FeiCi",e[e.End=100]="End"}(o.ItemType||(o.ItemType={})),function(e){e.LoadScene="LoadScene",e.StartScene="StartScene",e.GameScene="GameScene",e.GeCaoGameScene="GeCaoGameScene"}(o.SceneName||(o.SceneName={})),function(e){e[e.begin=0]="begin",e[e.tiled1=1]="tiled1",e[e.tiled2=2]="tiled2",e[e.tiled3=3]="tiled3",e[e.tiled4=4]="tiled4",e[e.tiled5=5]="tiled5",e[e.tiled6=6]="tiled6",e[e.tiled7=7]="tiled7",e[e.tiled8=8]="tiled8",e[e.tiled9=9]="tiled9",e[e.tiled10=10]="tiled10",e[e.tiled11=11]="tiled11",e[e.tiled12=12]="tiled12",e[e.tiled13=13]="tiled13",e[e.tiled14=14]="tiled14",e[e.tiled15=15]="tiled15",e[e.tiled16=16]="tiled16",e[e.tiled17=17]="tiled17",e[e.tiled18=18]="tiled18",e[e.tiled19=19]="tiled19",e[e.tiled20=20]="tiled20",e[e.tiled21=21]="tiled21",e[e.tiled22=22]="tiled22",e[e.tiled23=23]="tiled23",e[e.end=100]="end"}(o.TiledType||(o.TiledType={})),function(e){e[e.Win=0]="Win",e[e.Fail=1]="Fail"}(o.GameOverType||(o.GameOverType={})),function(e){e[e.none=-1]="none",e[e.gaming=0]="gaming",e[e.gameover=1]="gameover"}(o.GameState||(o.GameState={})),function(e){e[e.guanqia=0]="guanqia",e[e.wujin=1]="wujin",e[e.gecao=2]="gecao",e[e.sanxiaotuitui=3]="sanxiaotuitui",e[e.sanxiaotutu=4]="sanxiaotutu"}(o.GameType||(o.GameType={}));var n=function(){function e(){}return e.getCheckOutScore=function(e){var t=0;return 1<=e&&e<=4?t=e+2:5<=e&&e<=9?t=2*(e-4)+5:10<=e&&e<=14?t=4*(e-9)+13:15<=e&&(t=6*(e-14)+31),20*t},e.eneryTime=600,e.maxEnery=10,e.maxShareGame=5,e.lingqutime=300,e.speed=.1,e.tiledkey=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,100],e.hudunTime=8,e.reliveHuDun=3,e.SwimmingTime=0,e.Swimmingradius=128,e.vipNum=3,e.skinPreName=["player0","player0","player0","player0"],e.addenery=[0,2,5,10,15],e.newMaxEnery=[10,12,15,20,25],e.cooltime=[600,570,540,480,420],e.newhudunTime=[8,8,9,10,11],e.newreliveHuDun=[3,3,4,5,6],e.kaidanFreeNum=1,e.kaidanNeedGold=10,e.cellNum_W=10,e.cellNum_H=11,e.openBiaoJi=!1,e.vipInfo=[["<color=#000000>\u65e0\u4efb\u4f55\u6743\u76ca\u52a0\u6210</color>"],["<color=#000000>1.\u7acb\u5373\u83b7\u5f97</c><color=#00ff00>2\u70b9\u4f53\u529b</color><br/>","<color=#000000>2.\u4f53\u529b\u4e0a\u9650\u589e\u52a0\u5230</c><color=#00ff00>12</color><br/>","<color=#000000>3.\u4f53\u529b\u51b7\u5374\u65f6\u95f4\u51cf\u5c11</c><color=#00ff00>30s</color>"],["<color=#000000>1.\u7acb\u5373\u83b7\u5f97</c><color=#00ff00>5\u70b9\u4f53\u529b</color><br/>","<color=#000000>2.\u4f53\u529b\u4e0a\u9650\u589e\u52a0\u5230</c><color=#00ff00>15</color><br/>","<color=#000000>3.\u4f53\u529b\u51b7\u5374\u65f6\u95f4\u51cf\u5c11</c><color=#00ff00>30s</color><br/>","<color=#000000>4.\u6280\u80fd\u6548\u679c\u65f6\u95f4\u589e\u52a0</c><color=#00ff00>1s</color>"],["<color=#000000>1.\u7acb\u5373\u83b7\u5f97</c><color=#00ff00>10\u70b9\u4f53\u529b</color><br/>","<color=#000000>2.\u4f53\u529b\u4e0a\u9650\u589e\u52a0\u5230</c><color=#00ff00>20</color><br/>","<color=#000000>3.\u4f53\u529b\u51b7\u5374\u65f6\u95f4\u51cf\u5c11</c><color=#00ff00>60s</color><br/>","<color=#000000>4.\u6280\u80fd\u6548\u679c\u65f6\u95f4\u589e\u52a0</c><color=#00ff00>1s</color><br/>","<color=#000000>5.\u5f00\u5c40\u83b7\u5f97</c><color=#00ff00>\u62a4\u76fe\u6280\u80fd</c><color=#00ff00>\u6548\u679c</color>"]],e}();o.default=n,cc._RF.pop()},{}],GameData:[function(e,t,o){"use strict";cc._RF.push(t,"7ff6ad9pQ5PDKMezgzhifp3","GameData"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.gameData={MapData:[[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,100,0],[0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,100,0],[0,2,2,2,2,2,10,10,10,10,10,100,0],[0,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,100,0],[0,10,10,10,10,10,3,3,3,3,3,100,0],[0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,100,0],[0,3,3,3,3,3,4,4,4,4,4,100,0],[0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,100,0],[0,4,4,4,4,4,5,5,5,5,5,100,0],[0,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,100,0],[0,5,5,5,5,5,6,6,6,6,6,100,0],[0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,100,0],[0,6,6,6,6,6,7,8,7,8,7,8,100,0],[0,7,8,7,8,7,8,7,8,7,8,7,8,7,8,7,8,100,0],[0,7,8,7,8,7,8,9,9,9,9,9,100,0],[0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,100,0],[0,9,9,9,9,9,11,12,11,12,11,12,100,0],[0,11,12,11,12,11,12,11,12,11,12,11,12,12,12,12,100,0],[0,11,12,11,12,11,12,13,13,13,13,13,100,0],[0,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,100,0],[0,13,13,13,13,13,14,14,14,14,14,100,0],[0,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,100,0],[0,14,14,14,14,14,15,15,15,15,15,100,0],[0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,100,0],[0,15,15,15,15,15,16,17,16,17,16,100,0],[0,16,17,16,17,16,17,16,17,16,17,16,17,16,17,16,100,0],[0,16,17,16,17,16,17,18,18,18,18,18,100,0],[0,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,100,0],[0,18,18,18,18,18,19,19,19,19,19,100,0],[0,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,100,0],[0,19,19,19,19,19,20,20,20,20,20,100,0],[0,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,100,0],[0,20,20,20,20,20,21,21,21,21,21,100,0],[0,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,100,0],[0,21,21,21,21,21,22,22,22,22,22,100,0],[0,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,100,0],[0,22,22,22,22,22,23,23,23,23,23,100,0],[0,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,100,0]],wujinMapData:[[0,1,1,1,1,1,1,1,100,0],[0,2,2,2,2,2,2,2,100,0],[0,3,3,3,3,3,3,3,100,0],[0,4,4,4,4,4,4,4,100,0],[0,5,5,5,5,5,5,5,100,0],[0,6,6,6,6,6,6,6,100,0],[0,7,8,7,8,7,8,7,8,100,0],[0,9,9,9,9,9,9,9,100,0],[0,10,10,10,10,10,10,10,100,0],[0,11,12,11,12,11,12,11,12,100,0],[0,13,13,13,13,13,13,13,13,100,0],[0,14,14,14,14,14,14,14,14,100,0],[0,15,15,15,15,15,15,15,15,100,0],[0,16,17,16,17,16,17,16,17,100,0],[0,18,18,18,18,18,18,18,18,100,0],[0,19,19,19,19,19,19,19,19,100,0],[0,20,20,20,20,20,20,20,20,100,0],[0,21,21,21,21,21,21,21,21,100,0],[0,22,22,22,22,22,22,22,22,100,0],[0,23,23,23,23,23,23,23,23,100,0]]},e}();o.default=n,cc._RF.pop()},{}],GamePrefab:[function(e,t,o){"use strict";var n;cc._RF.push(t,"1b120W84NhAAKN6ecM7WI6Q","GamePrefab"),Object.defineProperty(o,"__esModule",{value:!0}),o.sxCellRes=void 0,function(e){e.hong="hong",e.huang="huang",e.lan="lan",e.lv="lv"}(n=o.sxCellRes||(o.sxCellRes={}));var i=function(){function e(){this.jilv=0,this.uiPre=[],this.allResNum=0,this.enemyPre=[],this.playerPre=[],this.cellSpRes=[]}return Object.defineProperty(e,"Instance",{get:function(){return null==this.__instance&&(this.__instance=new e),this.__instance},enumerable:!1,configurable:!0}),e.prototype.Initial=function(){var t=this;for(var o in console.log("\u52a0\u8f7d\u6e38\u620f\u8d44\u6e90"),this.jilv=0,this.allResNum=2,n)Object.prototype.hasOwnProperty.call(n,o)&&this.allResNum++;cc.resources.loadDir("Prefab",function(e,o){if(e)return console.error("\u52a0\u8f7d\u8d44\u6e90\u62a5\u9519",e);t.jilv++;for(var n=0;n<o.length;n++){var i=o[n].name;t.uiPre[i]=o[n]}}),cc.resources.loadDir("player",function(e,o){if(e)return console.error("\u52a0\u8f7d\u8d44\u6e90\u62a5\u9519",e);t.jilv++;for(var n=0;n<o.length;n++){var i=o[n].name;t.playerPre[i]=o[n]}});var i=function(t){if(Object.prototype.hasOwnProperty.call(n,t)){var o=n[t];cc.resources.load("SanXiaoRes/cellres/"+o,cc.SpriteFrame,function(t,n){if(t)return console.log("err=",t);e.Instance.jilv++,e.Instance.cellSpRes[o]=n})}};for(var o in n)i(o)},e}();o.default=i,cc._RF.pop()},{}],GameSceneSc:[function(e,t,o){"use strict";cc._RF.push(t,"efe2c0wN0hAupMSM1UqZzsy","GameSceneSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./common/Define"),r=e("./common/gameStorage"),s=e("./common/PlayData"),l=e("./common/utils"),u=e("./GamePrefab"),d=e("./mapSc"),p=e("./playerSc"),f=e("./TopUi"),h=cc._decorator,g=h.ccclass,m=h.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.canvas=null,t.mainCamera=null,t.uiCamera=null,t.joystick=null,t.uiNode=null,t.mapUiSc=null,t.playernode=null,t.topui=null,t.player=null,t.winSize=null,t}return i(t,e),t.prototype.onLoad=function(){this.winSize=cc.winSize,cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0,s.default.Instance.getGold=0,this.topui=u.default.Instance.uiPre.topui;var e=cc.instantiate(this.topui);e.name="topui",e.parent=cc.find("Canvas/UiNode"),e.getComponent(f.default).setGold(s.default.Instance.getGold),this.setPlayerAni(),r.default.getHuDun()<=0&&0==l.default.getRangeRandom(0,1)&&(cc.instantiate(u.default.Instance.uiPre.useItemPanelSc).parent=cc.director.getScene())},t.prototype.setPlayerAni=function(){var e=c.default.skinPreName[s.default.Instance.playerSkin];console.log("\u73a9\u5bb6pre name",e,s.default.Instance.playerSkin);var t=cc.instantiate(u.default.Instance.playerPre[e]);t.y=-300,t.parent=this.playernode,this.player=t,this.player.angle=-180},t.prototype.start=function(){cc.director.getScheduler().schedule(this.paoCallBack.bind(this),this,0)},t.prototype.paoCallBack=function(){this.updateCameraPosition()},t.prototype.updateCameraPosition=function(){this.player.y>0?this.mainCamera.node.y=this.player.y:this.player.y<=-this.winSize.height/2+100&&(this.player.y=-this.winSize.height/2+100)},t.prototype.opHuDunClick=function(){this.player.getComponent(p.default).openHuDun(),cc.game.emit("hudun")},t.prototype.opBingDongClick=function(){var e=this,t=cc.find("bing",this.uiNode);t.active=!0,this.mapUiSc.bingDongAllAction(),cc.game.emit("timecold"),cc.tween(t).delay(c.default.hudunTime).to(2,{scale:1.5}).call(function(){t.scale=1,t.active=!1,e.mapUiSc.openAllAction()}).start()},t.prototype.reliveCallBack=function(){this.player.getComponent(p.default).relive()},a([m(cc.Canvas)],t.prototype,"canvas",void 0),a([m(cc.Camera)],t.prototype,"mainCamera",void 0),a([m(cc.Camera)],t.prototype,"uiCamera",void 0),a([m(cc.Node)],t.prototype,"joystick",void 0),a([m(cc.Node)],t.prototype,"uiNode",void 0),a([m(d.default)],t.prototype,"mapUiSc",void 0),a([m(cc.Node)],t.prototype,"playernode",void 0),a([g],t)}(cc.Component);o.default=y,cc._RF.pop()},{"./GamePrefab":"GamePrefab","./TopUi":"TopUi","./common/Define":"Define","./common/PlayData":"PlayData","./common/gameStorage":"gameStorage","./common/utils":"utils","./mapSc":"mapSc","./playerSc":"playerSc"}],LoadScene:[function(e,t,o){"use strict";cc._RF.push(t,"15e54XHq6RIBK0tiSEvGs9H","LoadScene");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../resources/tips/TipsManager"),r=e("../Script/common/Define"),s=e("../Script/common/gameStorage"),l=e("../Script/common/PlayData"),u=e("../Script/common/sdkTools/gameShareAdsVideo"),d=e("../Script/GamePrefab"),p=cc._decorator,f=p.ccclass,h=p.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bar=null,t.loadover=!1,t.barindex=0,t.allResNum=0,t.loadPackageOver=0,t}return i(t,e),t.prototype.onLoad=function(){var e=cc.winSize;if(console.log("\u6253\u5370\u5c4f\u5e55\u5927\u5c0f",e),e.height<1400?(r.default.cellNum_W=10,r.default.cellNum_H=9):e.height>=1400&&e.height<1510?(r.default.cellNum_W=10,r.default.cellNum_H=10):(r.default.cellNum_W=10,r.default.cellNum_H=11),this.loadPackageOver=0,this.barindex=0,this.bar.progress=0,this.loadover=!1,l.default.Instance.eneryTime=r.default.eneryTime,u.default.Instance.bannerAds_Load(),u.default.Instance.chaPingAds_Load(),u.default.Instance.motivational_Video_Load(),cc.sys.platform==cc.sys.BYTEDANCE_GAME){var t=this,o=tt.getUpdateManager();o.onUpdateReady(function(){tt.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u662f\u5426\u91cd\u542f\u5c0f\u6e38\u620f\uff1f",success:function(e){e.confirm&&o.applyUpdate()}})}),tt.loadSubpackage({name:"resources",success:function(e){console.log("success errMsg: "+e.errMsg),t.loadPackageOver=1},fail:function(e){console.log("fail errMsg: "+e.errMsg)}})}else cc.sys.platform==cc.sys.WECHAT_GAME?(t=this,wx.loadSubpackage({name:"resources",success:function(){console.log("resources\u5206\u5305\u52a0\u8f7d\u6210\u529f\u540e\u901a\u8fc7 success \u56de\u8c03"),t.loadPackageOver=1},fail:function(){console.log("resources\u5206\u5305\u52a0\u8f7d\u5931\u8d25\u901a\u8fc7 fail \u56de\u8c03")}}),u.default.Instance.showShareMenu()):this.loadPackageOver=1},t.prototype.start=function(){s.default.getUserSysInfo()},t.prototype.update=function(){if(1==this.loadPackageOver&&(c.default.Instance.Initial(),d.default.Instance.Initial(),this.allResNum=d.default.Instance.allResNum,this.loadPackageOver=2),2==this.loadPackageOver){if(1==this.loadover)return;this.bar.progress<1?this.bar.progress=d.default.Instance.jilv/this.allResNum:(this.loadover=!0,cc.director.loadScene("StartScene"))}},a([h(cc.ProgressBar)],t.prototype,"bar",void 0),a([f],t)}(cc.Component);o.default=g,cc._RF.pop()},{"../Script/GamePrefab":"GamePrefab","../Script/common/Define":"Define","../Script/common/PlayData":"PlayData","../Script/common/gameStorage":"gameStorage","../Script/common/sdkTools/gameShareAdsVideo":"gameShareAdsVideo","../resources/tips/TipsManager":void 0}],PlayData:[function(e,t,o){"use strict";cc._RF.push(t,"5d8906LEDtLP77hV9QK5EVh","PlayData"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./Define"),i=function(){function e(){this.nowEnery=0,this.eneryTime=600,this.firstInGame=!0,this.playerSkin=0,this.guanqianum=0,this._gameState=null,this.openId=null,this.isShowHightScore=!1,this.downOver=!1,this.playerPos=cc.v3(0,0,0),this.feicuinowdata=[],this.daojishi=300,this.getGold=0,this.wujin_guanqianum=0,this.gameType=n.GameType.guanqia,this.userSysInfo={cid:"",cip:"",cname:"",copenid:""},this.userInfo={hightScore:0,icon:"",openid:"",name:""}}return Object.defineProperty(e,"Instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e._instance=null,e}();o.default=i,cc._RF.pop()},{"./Define":"Define"}],SanXiaoGameEndSc:[function(e,t,o){"use strict";cc._RF.push(t,"e62923ukM9JoZfI5aMZ0gbZ","SanXiaoGameEndSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../../resources/tips/TipsManager"),r=e("../common/gameStorage"),s=e("../common/sdkTools/gameShareAdsVideo"),l=e("../GamePrefab"),u=cc._decorator,d=u.ccclass,p=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.winNode=null,t.failNode=null,t.addtiliprefab=null,t}return i(t,e),t.prototype.onLoad=function(){this.winNode.active=!1,this.failNode.active=!1},t.prototype.start=function(){},t.prototype.onEnable=function(){s.default.Instance.chaPingAds_Show(),s.default.Instance.bannerAds_Show()},t.prototype.onDisable=function(){s.default.Instance.bannerAds_Hide()},t.prototype.setGameEndType=function(e){this.winNode.active=1==e,this.failNode.active=0==e},t.prototype.btnClickCallBack=function(e,t){if("again"==t||"next"==t){if(r.default.getEnergy()<=0)return c.default.Instance.createTips("\u4f53\u529b\u4e0d\u8db3"),void(cc.instantiate(l.default.Instance.uiPre.addEngry).parent=cc.director.getScene());r.default.setEnergy(r.default.getEnergy()-1),this.node.destroy(),cc.director.loadScene("SanXiaoTuiTuiGameScene")}else"back"==t&&(this.node.destroy(),cc.director.loadScene("StartScene"))},a([p(cc.Node)],t.prototype,"winNode",void 0),a([p(cc.Node)],t.prototype,"failNode",void 0),a([p(cc.Prefab)],t.prototype,"addtiliprefab",void 0),a([d],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../../resources/tips/TipsManager":void 0,"../GamePrefab":"GamePrefab","../common/gameStorage":"gameStorage","../common/sdkTools/gameShareAdsVideo":"gameShareAdsVideo"}],SanXiaoGameSc:[function(e,t,o){"use strict";cc._RF.push(t,"3aa15ltqVVNCbTWQH28Dvqv","SanXiaoGameSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../common/Define"),r=e("../common/gameStorage"),s=e("../common/PlayData"),l=e("../common/sdkTools/gameShareAdsVideo"),u=e("../common/utils"),d=e("./CellSc"),p=e("./SanXiaoGameEndSc"),f=e("./StoneSc"),h=cc._decorator,g=h.ccclass,m=h.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stoneNode=null,t.moveStage=null,t.renStage=null,t.stoneRes=[],t.timestr=null,t.diaoluostr=null,t.guanstr=null,t.endpanel=null,t.pausepanel=null,t.texiao=null,t.clickBlock=null,t.diaolou=null,t.lujing=null,t.xiaochuNode=null,t.diban=null,t.shudata=null,t.cellPosData=[],t.gameState=c.GameState.none,t.cellNum_W=10,t.cellNum_H=11,t.daojishi=60,t.diaoluoNum=0,t.gamelevel=-1,t.pushPower=14,t.dingzhuNum=100,t.biaoji=null,t}return i(t,e),t.prototype.onLoad=function(){this.showLuJing(),this.cellNum_W=c.default.cellNum_W,this.cellNum_H=c.default.cellNum_H,9==this.cellNum_H?(cc.find("smallNode",this.node).active=!0,cc.find("middleNode",this.node).active=!1,cc.find("bigNode",this.node).active=!1,this.xiaochuNode=cc.find("smallNode/XiaoChuNode10x9",this.node),this.diban=cc.find("smallNode/DiBan10x9",this.node),this.biaoji=cc.find("smallNode/biaoji",this.node)):10==this.cellNum_H?(cc.find("smallNode",this.node).active=!1,cc.find("middleNode",this.node).active=!0,cc.find("bigNode",this.node).active=!1,this.xiaochuNode=cc.find("middleNode/XiaoChuNode10x10",this.node),this.diban=cc.find("middleNode/DiBan10x10",this.node),this.biaoji=cc.find("middleNode/biaoji",this.node)):(cc.find("smallNode",this.node).active=!1,cc.find("middleNode",this.node).active=!1,cc.find("bigNode",this.node).active=!0,this.xiaochuNode=cc.find("bigNode/XiaoChuNode10x11",this.node),this.diban=cc.find("bigNode/DiBan10x11",this.node),this.biaoji=cc.find("bigNode/biaoji",this.node)),this.biaoji.active=c.default.openBiaoJi,cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2(0,-1024),this.gamelevel=r.default.getSXCheckPoint(s.default.Instance.gameType),this.timestr.string=u.default.secondsFormat(this.daojishi,!1),this.guanstr.string="\u5173\u5361\u6570:"+(this.gamelevel+1),this.diaoluostr.string="\u6389\u843d\u6570\u91cf:"+this.diaoluoNum},t.prototype.start=function(){var e=this;this.renStage.node.x=30,this.addStoneCell(),this.scheduleOnce(function(){e.gameState=c.GameState.gaming,e.pushMoveStage(),e.startCutTime()},4),this.initFangKuaiCell()},t.prototype.startCutTime=function(){var e=this;this.schedule(function(){e.gameState==c.GameState.gaming&&(e.daojishi--,e.timestr.string=u.default.secondsFormat(e.daojishi,!1),0==e.daojishi&&(console.log("\u6e38\u620f\u7ed3\u675f"),e.gameState=c.GameState.gameover,e.moveStage.linearVelocity=cc.v2(0,0),e.unscheduleAllCallbacks(),e.showGameEnd(!1)))},1,cc.macro.REPEAT_FOREVER)},t.prototype.initFangKuaiCell=function(){this.shudata=u.default.createArrayWithoutConsecutiveThrees(this.cellNum_W,this.cellNum_H,3);for(var e=0;e<this.cellNum_W;e++){this.cellPosData[e]=[];for(var t=0;t<this.cellNum_H;t++){var o="cell"+e+"_"+t,n=cc.find(o,this.xiaochuNode),i=n.getComponent(d.default),a=this.shudata[e][t];i.setCellId(a,this.gamelevel%3),i.setCellWH(e,t),i.setGameSc(this),this.cellPosData[e][t]=n.position}}},t.prototype.addStoneCell=function(){var e=this;this.playDiaoLouSound();var t=this.stoneRes.length;this.schedule(function(){var o=u.default.getRangeRandom(0,t-1),n=cc.instantiate(e.stoneRes[o]),i=u.default.getRangeRandom(-210,270);n.position=cc.v3(i,500,0),n.parent=e.stoneNode,n.getComponent(f.default).setGameSc(e)},0,200)},t.prototype.pushMoveStage=function(){if(this.checkCanMoveStage(),this.moveStage.node.x>=150)this.moveStage.type=cc.RigidBodyType.Static,this.moveStage.linearVelocity=cc.v2(0,0);else{var e=cc.v2(this.pushPower,0);this.moveStage.linearVelocity=e}},t.prototype.checkCanMoveStage=function(){var e=0;if(this.moveStage.node.x>40&&this.moveStage.type==cc.RigidBodyType.Dynamic)for(var t=this.stoneNode.children,o=0;o<t.length;o++)t[o].y>285&&e++;this.pushPower=e>80?0:14},t.prototype.renMoveStage=function(){if(this.renStage.node.x<=-210)this.renStage.type=cc.RigidBodyType.Static,this.renStage.linearVelocity=cc.v2(0,0);else{var e=cc.v2(-4,0);this.renStage.linearVelocity=e}},t.prototype.checkCell=function(e,t){var o=this,n=e[0],i=e[1],a=t[0],c=t[1],r=u.default.deepClone(this.shudata);r[n][i]=this.shudata[a][c],r[a][c]=this.shudata[n][i];for(var s=[],l=0;l<this.cellNum_W;l++)this.checkRowForConsecutives(r[l],l,s);for(var d=0;d<this.cellNum_H;d++)this.checkColumnForConsecutives(r,d,s);return s.length>0&&(this.shudata[a][c]=r[a][c],this.shudata[n][i]=r[n][i],this.scheduleOnce(function(){o.xiaoChuCell(s)},.3),!0)},t.prototype.checkRowForConsecutives=function(e,t,o){for(var n=1,i=0;i<e.length-1;i++)e[i]===e[i+1]&&null!=e[i]&&-1!=e[i]?3==++n?o.push({row:t,col:i-1,length:3,number:e[i],dir:1}):n>3&&(o[o.length-1].length=n):n=1},t.prototype.checkColumnForConsecutives=function(e,t,o){for(var n=1,i=0;i<e.length-1;i++)e[i][t]===e[i+1][t]&&-1!=e[i][t]&&null!=e[i][t]?3==++n?o.push({row:i-1,col:t,length:3,number:e[i][t],dir:0}):n>3&&(o[o.length-1].length=n):n=1},t.prototype.xiaoChuCell=function(e){for(var t=0;t<e.length;t++){var o=e[t],n=o.length,i=o.dir,a=o.row,c=o.col;if(0==i){this.playXiaoChuSound();for(var r=0;r<n;r++){this.shudata[a+r][c]=-1;var s="cell"+(a+r)+"_"+c,l=cc.find(s,this.xiaochuNode),u=cc.find(s,this.diban);l&&(this.addxiaochuTeXiao(l),cc.tween(l).to(.2,{scale:1.5,opacity:0}).removeSelf().start()),u&&u.destroy()}}else if(1==i)for(this.playXiaoChuSound(),r=0;r<n;r++)this.shudata[a][c+r]=-1,s="cell"+a+"_"+(c+r),l=cc.find(s,this.xiaochuNode),u=cc.find(s,this.diban),l&&(this.addxiaochuTeXiao(l),cc.tween(l).to(.2,{scale:1.5,opacity:0}).removeSelf().start()),u&&u.destroy()}},t.prototype.addxiaochuTeXiao=function(e){var t=cc.instantiate(this.texiao);t.opacity=125,t.position=e.position,t.parent=e.parent,cc.tween(t).delay(1).removeSelf().start()},t.prototype.addDiaoLuoNum=function(){this.gameState==c.GameState.gaming&&(this.diaoluoNum++,this.diaoluostr.string="\u6389\u843d\u6570\u91cf:"+this.diaoluoNum,this.diaoluoNum>=100&&(this.gamelevel+=1,r.default.setSXCheckPoint(s.default.Instance.gameType,this.gamelevel),this.gameState=c.GameState.gameover,this.showGameEnd(!0)))},t.prototype.showLuJing=function(){},t.prototype.showGameEnd=function(e){var t=cc.instantiate(this.endpanel);t.parent=this.node,t.getComponent(p.default).setGameEndType(e)},t.prototype.update=function(){this.gameState==c.GameState.gaming&&(this.pushMoveStage(),this.renMoveStage())},t.prototype.setBtn=function(){cc.instantiate(this.pausepanel).parent=cc.director.getScene()},t.prototype.playXiaoChuSound=function(){1!=r.default.getSound()&&cc.audioEngine.playEffect(this.clickBlock,!1)},t.prototype.playDiaoLouSound=function(){1!=r.default.getSound()&&cc.audioEngine.playEffect(this.diaolou,!1)},t.prototype.daluanBtn=function(){var e=this;l.default.Instance.motivational_Video_Show(function(){for(var t=u.default.createArrayWithoutConsecutiveThrees(e.cellNum_W,e.cellNum_H,3),o=0;o<e.cellNum_W;o++)for(var n=0;n<e.cellNum_H;n++)-1!=e.shudata[o][n]&&(e.shudata[o][n]=t[o][n]);e.updateCellIcon()},function(){})},t.prototype.updateCellIcon=function(){for(var e=0;e<this.cellNum_W;e++)for(var t=0;t<this.cellNum_H;t++)if(-1!=this.shudata[e][t]){var o="cell"+e+"_"+t,n=cc.find(o,this.xiaochuNode).getComponent(d.default),i=this.shudata[e][t];n.setCellId(i,this.gamelevel%3)}},t.prototype.addTimeBtn=function(){if(this.gameState==c.GameState.gaming){var e=this;l.default.Instance.motivational_Video_Show(function(){e.daojishi+=60,e.timestr.string=u.default.secondsFormat(e.daojishi,!1)},function(){})}},a([m(cc.Node)],t.prototype,"stoneNode",void 0),a([m(cc.RigidBody)],t.prototype,"moveStage",void 0),a([m(cc.RigidBody)],t.prototype,"renStage",void 0),a([m([cc.Prefab])],t.prototype,"stoneRes",void 0),a([m(cc.Label)],t.prototype,"timestr",void 0),a([m(cc.Label)],t.prototype,"diaoluostr",void 0),a([m(cc.Label)],t.prototype,"guanstr",void 0),a([m(cc.Prefab)],t.prototype,"endpanel",void 0),a([m(cc.Prefab)],t.prototype,"pausepanel",void 0),a([m(cc.Prefab)],t.prototype,"texiao",void 0),a([m(cc.AudioClip)],t.prototype,"clickBlock",void 0),a([m(cc.AudioClip)],t.prototype,"diaolou",void 0),a([m(cc.Label)],t.prototype,"lujing",void 0),a([g],t)}(cc.Component);o.default=y,cc._RF.pop()},{"../common/Define":"Define","../common/PlayData":"PlayData","../common/gameStorage":"gameStorage","../common/sdkTools/gameShareAdsVideo":"gameShareAdsVideo","../common/utils":"utils","./CellSc":"CellSc","./SanXiaoGameEndSc":"SanXiaoGameEndSc","./StoneSc":"StoneSc"}],StartSceneSc:[function(e,t,o){"use strict";cc._RF.push(t,"c51e5nSqRxAB7pZmD52NqVx","StartSceneSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../resources/tips/TipsManager"),r=e("./common/Define"),s=e("./common/gameStorage"),l=e("./common/PlayData"),u=e("./GamePrefab"),d=e("./tiledPrefab"),p=e("./TopUi"),f=cc._decorator,h=f.ccclass,g=f.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgSound=null,t.topui=null,t.touchX=0,t.selectIndex=0,t}return i(t,e),t.prototype.onLoad=function(){cc.director.preloadScene("GameScene"),d.default.Instance.Initial(),s.default.getUserInfo(),this.topui=u.default.Instance.uiPre.topui;var e=cc.instantiate(this.topui);e.name="topui",e.zIndex=255,e.parent=cc.find("Canvas/UiNode"),0==s.default.getSound()&&(cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(this.bgSound,!0)),1==l.default.Instance.firstInGame&&(cc.director.on("addengry",function(){console.log("\u89e6\u53d1\u6dfb\u52a0\u4f53\u529b"),cc.find("Canvas/UiNode/topui").getComponent(p.default).setTiLi(),s.default.setoffLineTime()}),cc.director.on("addgold",function(){cc.find("Canvas/UiNode/topui").getComponent(p.default).setGold()}),this.setOffTimeTiLi(),l.default.Instance.firstInGame=!1)},t.prototype.setOffTimeTiLi=function(){if(s.default.getoffLineTime()>0){var e=Number((new Date).getTime()),t=s.default.getoffLineTime(),o=Math.floor((e-t)/1e3),n=Math.floor(o/r.default.eneryTime);s.default.getEnergy()<r.default.maxEnery&&(n+s.default.getEnergy()>=r.default.maxEnery?(s.default.setEnergy(r.default.maxEnery),cc.director.emit("addengry")):(s.default.setEnergy(n+s.default.getEnergy()),cc.director.emit("addengry")))}s.default.setoffLineTime()},t.prototype.start=function(){},t.prototype.startGame=function(e,t){if(s.default.getEnergy()<=0)return c.default.Instance.createTips("\u4f53\u529b\u4e0d\u8db3"),void(cc.instantiate(u.default.Instance.uiPre.addEngry).parent=cc.director.getScene());"guangqia"==t?cc.instantiate(u.default.Instance.uiPre.checkoutPanel).parent=cc.director.getScene():"gecao"==t||"wujin"==t&&(s.default.setEnergy(s.default.getEnergy()-1),cc.director.emit("addengry"),l.default.Instance.gameType=r.GameType.wujin,cc.director.loadScene("GameScene"))},t.prototype.moreGameBtnClick=function(){cc.instantiate(u.default.Instance.uiPre.moregamePanel).parent=cc.director.getScene()},a([g(cc.AudioClip)],t.prototype,"bgSound",void 0),a([h],t)}(cc.Component);o.default=m,cc._RF.pop()},{"../resources/tips/TipsManager":void 0,"./GamePrefab":"GamePrefab","./TopUi":"TopUi","./common/Define":"Define","./common/PlayData":"PlayData","./common/gameStorage":"gameStorage","./tiledPrefab":"tiledPrefab"}],StoneSc:[function(e,t,o){"use strict";cc._RF.push(t,"71ca7POLm5ImYDKHyZGXy4Z","StoneSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,s=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gamesc=null,t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.setGameSc=function(e){this.gamesc=e},t.prototype.update=function(){this.node.y<-1e3&&(this.gamesc.addDiaoLuoNum(),this.node.destroy())},a([r],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],TopUi:[function(e,t,o){"use strict";cc._RF.push(t,"ef19cc5e15MyI4kFJUjjXCb","TopUi");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./common/Define"),r=e("./common/gameStorage"),s=e("./common/PlayData"),l=e("./GamePrefab"),u=cc._decorator,d=u.ccclass,p=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tilistr=null,t.timestr=null,t.goldstr=null,t.runtime=0,t.addtiliprefab=null,t}return i(t,e),t.prototype.onLoad=function(){this.setGold(),this.setTiLi(),this.setVipNum(),this.node.on("click",this.openAddEngry,this),this.addtiliprefab=l.default.Instance.uiPre.addEngry},t.prototype.start=function(){},t.prototype.openAddEngry=function(){if("StartScene"==cc.director.getScene().name){if(null==this.addtiliprefab)return;cc.instantiate(this.addtiliprefab).parent=cc.director.getScene()}},t.prototype.openAddGold=function(){},t.prototype.setGold=function(e){this.goldstr.string=e?""+e:""+r.default.getGold()},t.prototype.setTiLi=function(){var e=r.default.getEnergy()+"/"+c.default.maxEnery;this.tilistr.string=e},t.prototype.setVipNum=function(){},t.prototype.openVipPanel=function(){cc.instantiate(l.default.Instance.uiPre.vipPaneleSc).parent=cc.director.getScene()},t.prototype.addEneryTime=function(){var e=this;this.schedule(function(){s.default.Instance.eneryTime--,e.timestr.string=""+e.secondsFormat(s.default.Instance.eneryTime),s.default.Instance.eneryTime<=0&&(s.default.Instance.eneryTime=c.default.eneryTime,e.unscheduleAllCallbacks(),r.default.setEnergy(r.default.getEnergy()+1),e.setTiLi(),e.runtime=0,e.timestr.string="00:00")},1,3e3,0)},t.prototype.secondsFormat=function(e){var t=Math.floor(e/3600),o=Math.floor((e-3600*t)/60),n=e-3600*t-60*o;return(o<10?"0"+o:""+o)+":"+(n<10?"0"+n:""+n)},t.prototype.update=function(){s.default.Instance.nowEnery>=c.default.maxEnery&&"\u5df2\u6ee1"!=this.timestr.string&&(this.unscheduleAllCallbacks(),this.runtime=0,this.timestr.string="\u5df2\u6ee1",s.default.Instance.eneryTime=c.default.eneryTime),1!=this.runtime&&s.default.Instance.nowEnery<c.default.maxEnery&&(this.runtime=1,this.addEneryTime())},t.prototype.cutSchedule=function(){this.unscheduleAllCallbacks()},a([p(cc.Label)],t.prototype,"tilistr",void 0),a([p(cc.Label)],t.prototype,"timestr",void 0),a([p(cc.Label)],t.prototype,"goldstr",void 0),a([d],t)}(cc.Component);o.default=f,cc._RF.pop()},{"./GamePrefab":"GamePrefab","./common/Define":"Define","./common/PlayData":"PlayData","./common/gameStorage":"gameStorage"}],UiNodeSc:[function(e,t,o){"use strict";cc._RF.push(t,"0aabdYUsgNFGJk3MYPtNK+7","UiNodeSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./common/gameStorage"),r=e("./common/sdkTools/gameShareAdsVideo"),s=e("./GamePrefab"),l=e("./GameSceneSc"),u=cc._decorator,d=u.ccclass,p=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gamescenesc=null,t.pausepre=null,t}return i(t,e),t.prototype.onLoad=function(){this.pausepre=s.default.Instance.uiPre.pausePanel,this.updataRight(),3==c.default.getVipNum()&&this.gamescenesc.opHuDunClick()},t.prototype.start=function(){},t.prototype.updataRight=function(){var e=[cc.find("right/hudun/hongdian/num",this.node),cc.find("right/bingdong/hongdian/num",this.node)],t=[cc.find("right/hudun/hongdian",this.node),cc.find("right/bingdong/hongdian",this.node)],o=[cc.find("right/hudun/shipingtag",this.node),cc.find("right/bingdong/shipingtag",this.node)];c.default.getHuDun()>0?(e[0].getComponent(cc.Label).string=""+c.default.getHuDun(),t[0].active=!0,o[0].active=!1):(t[0].active=!1,o[0].active=!0),c.default.getBingDong()>0?(e[1].getComponent(cc.Label).string=""+c.default.getBingDong(),t[1].active=!0,o[1].active=!1):(t[1].active=!1,o[1].active=!0)},t.prototype.opHuDunClick=function(){if(c.default.getHuDun()>0)c.default.setHuDun(c.default.getHuDun()-1),this.gamescenesc.opHuDunClick(),this.updataRight();else{var e=this;r.default.Instance.motivational_Video_Show(function(){e.gamescenesc.opHuDunClick()},function(){})}},t.prototype.opBingDongClick=function(){if(c.default.getBingDong()>0)c.default.setBingDong(c.default.getBingDong()-1),this.gamescenesc.opBingDongClick(),this.updataRight();else{var e=this;r.default.Instance.motivational_Video_Show(function(){e.gamescenesc.opBingDongClick()},function(){})}},t.prototype.opPauseClick=function(){cc.instantiate(this.pausepre).parent=cc.director.getScene()},a([p(l.default)],t.prototype,"gamescenesc",void 0),a([d],t)}(cc.Component);o.default=f,cc._RF.pop()},{"./GamePrefab":"GamePrefab","./GameSceneSc":"GameSceneSc","./common/gameStorage":"gameStorage","./common/sdkTools/gameShareAdsVideo":"gameShareAdsVideo"}],addEngry:[function(e,t,o){"use strict";cc._RF.push(t,"7ad76A4SL9Bk5JrEGQo38P0","addEngry");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./common/gameStorage"),r=e("./common/sdkTools/gameShareAdsVideo"),s=cc._decorator,l=s.ccclass,u=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){r.default.Instance.chaPingAds_Show(),r.default.Instance.bannerAds_Show()},t.prototype.onDisable=function(){r.default.Instance.bannerAds_Hide()},t.prototype.start=function(){},t.prototype.addbtnClick=function(){var e=this;r.default.Instance.motivational_Video_Show(function(){c.default.setEnergy(c.default.getEnergy()+5),cc.director.emit("addengry"),e.closeClick()},function(){})},t.prototype.addbtnClick2=function(){var e=this;r.default.Instance.motivational_Video_Show(function(){c.default.setEnergy(c.default.getEnergy()+10),cc.director.emit("addengry"),e.closeClick()},function(){})},t.prototype.goldBuyClick=function(){c.default.getGold()>=100?(this.closeClick(),c.default.addGold(-100),c.default.setEnergy(c.default.getEnergy()+5),cc.director.emit("addengry"),cc.director.emit("addgold")):r.default.Instance.showToast("\u9053\u5177\u4e0d\u8db3!")},t.prototype.closeClick=function(){this.node.removeFromParent(!0)},a([l],t)}(cc.Component));o.default=u,cc._RF.pop()},{"./common/gameStorage":"gameStorage","./common/sdkTools/gameShareAdsVideo":"gameShareAdsVideo"}],checkoutPanelSc:[function(e,t,o){"use strict";cc._RF.push(t,"cfc287y29dNtYHfNzwfqNld","checkoutPanelSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../resources/tips/TipsManager"),r=e("./common/Define"),s=e("./common/GameData"),l=e("./common/gameStorage"),u=e("./common/PlayData"),d=e("./GamePrefab"),p=cc._decorator,f=p.ccclass,h=p.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=null,t.guan_item=null,t}return i(t,e),t.prototype.onLoad=function(){this.guan_item=d.default.Instance.uiPre.guan_item,this.setGuanItem(),this.node.opacity=0,cc.tween(this.node),cc.tween(this.node).to(.2,{opacity:255}).start()},t.prototype.setGuanItem=function(){this.content.removeAllChildren(!0);for(var e=s.default.gameData.MapData.length,t=l.default.getCheckPoint(),o=l.default.getCheckPointStar(),n=0;n<e;n++){var i=cc.instantiate(this.guan_item);i.parent=this.content;var a=cc.find("open_sp",i),c=cc.find("close_sp",i),r=cc.find("num",a).getComponent(cc.Label);if(i.on("click",this.guanClick,this),i.name="guan"+n,r.string=""+n,t>=n){a.active=!0,c.active=!1;var u=o[n];if(null!=u)for(var d=0;d<u;d++){var p="xing"+d;cc.find(p+"/star",a).active=!0}}else a.active=!1,c.active=!0}},t.prototype.guanClick=function(e){var t=e.node.name.split("guan"),o=Number(t[1]);if(o<=l.default.getCheckPoint()){if(l.default.getEnergy()<=0)return c.default.Instance.createTips("\u4f53\u529b\u4e0d\u8db3"),void(cc.instantiate(d.default.Instance.uiPre.addEngry).parent=cc.director.getScene());l.default.setEnergy(l.default.getEnergy()-1),cc.director.emit("addengry"),u.default.Instance.guanqianum=o,u.default.Instance.gameType=r.GameType.guanqia,this.node.destroy(),cc.director.loadScene("GameScene")}else c.default.Instance.createTips("\u8bf7\u89e3\u9501\u524d\u7f6e\u5173\u5361")},t.prototype.start=function(){},t.prototype.backBtn=function(){var e=this,t=this.node.position;cc.tween(this.node),cc.tween(this.node).to(.2,{position:cc.v3(t.x-400,t.y,0),opacity:20}).call(function(){e.node.destroy()}).start()},a([h(cc.Node)],t.prototype,"content",void 0),a([f],t)}(cc.Component);o.default=g,cc._RF.pop()},{"../resources/tips/TipsManager":void 0,"./GamePrefab":"GamePrefab","./common/Define":"Define","./common/GameData":"GameData","./common/PlayData":"PlayData","./common/gameStorage":"gameStorage"}],cocosAnalyticsSdk:[function(e,t,o){"use strict";cc._RF.push(t,"134ccOFR9pOjbI8imHuZZTn","cocosAnalyticsSdk"),Object.defineProperty(o,"__esModule",{value:!0}),o.eventType=void 0,function(e){e[e.model=0]="model"}(o.eventType||(o.eventType={}));o.default=function(){},cc._RF.pop()},{}],endPanelSc:[function(e,t,o){"use strict";cc._RF.push(t,"69c7expPLlNhr4+/slaf37G","endPanelSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../resources/tips/TipsManager"),r=e("./common/gameStorage"),s=e("./common/sdkTools/gameShareAdsVideo"),l=e("./GamePrefab"),u=e("./GameSceneSc"),d=cc._decorator,p=d.ccclass,f=d.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title=null,t.btnnode=null,t}return i(t,e),t.prototype.onEnable=function(){this.title.opacity=0,this.title.scale=.3,cc.tween(this.title).to(.2,{scale:1,opacity:255}).start();for(var e=this.btnnode.children,t=0;t<e.length;t++){var o=e[t],n=o.position;o.y=n.y-500,cc.tween(o).delay(.1*t).to(.2,{position:cc.v3(n.x,n.y,0)}).start()}},t.prototype.start=function(){},t.prototype.shareBtnClick=function(){s.default.Instance.recording_Video_Share(function(){},function(){})},t.prototype.againBtnClick=function(){this.node.destroy(),cc.director.resume(),cc.director.loadScene("GameScene")},t.prototype.reliveBtnClick=function(){if(r.default.getEnergy()<=0)return c.default.Instance.createTips("\u4f53\u529b\u4e0d\u8db3"),void(cc.instantiate(l.default.Instance.uiPre.addEngry).parent=cc.director.getScene());r.default.setEnergy(r.default.getEnergy()-1),cc.director.emit("addengry"),this.node.destroy(),cc.director.resume(),cc.find("Canvas").getComponent(u.default).reliveCallBack()},t.prototype.mainBackBtnClick=function(){this.node.destroy(),cc.director.resume(),cc.director.loadScene("StartScene")},a([f(cc.Node)],t.prototype,"title",void 0),a([f(cc.Node)],t.prototype,"btnnode",void 0),a([p],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../resources/tips/TipsManager":void 0,"./GamePrefab":"GamePrefab","./GameSceneSc":"GameSceneSc","./common/gameStorage":"gameStorage","./common/sdkTools/gameShareAdsVideo":"gameShareAdsVideo"}],enemySc:[function(e,t,o){"use strict";cc._RF.push(t,"4be8aJXrBJG14x0GD9IWU7p","enemySc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./common/Define"),r=e("./common/PlayData"),s=e("./common/utils"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enemyIndex=0,t.isAttack=!1,t.radius=0,t.SwimmingTime=0,t.CheckOutTime=0,t.collider=null,t.death=!1,t.rigidBody=null,t}return i(t,e),t.prototype.onLoad=function(){this.rigidBody=this.node.getComponent(cc.RigidBody),this.collider=this.node.getComponent(cc.Collider),this.death=!1,this.setPosition(),this.radius=c.default.Swimmingradius,this.SwimmingTime=c.default.SwimmingTime-1},t.prototype.setPosition=function(){var e=s.default.getRangeRandom(-2e3,2e3),t=s.default.getRangeRandom(-2e3,2e3);this.node.position=cc.v3(e,t,0)},t.prototype.setAttack=function(){},t.prototype.start=function(){},t.prototype.update=function(e){if(this.SwimmingTime+=e,this.SwimmingTime>=c.default.SwimmingTime){if(1==this.death)return;this.node.stopAllActions();var t=this.node.angle;c.default.Swimmingradius;var o=r.default.Instance.playerPos,n=Math.abs(o.x-this.node.x),i=Math.abs(o.y-this.node.y),a=Math.atan(n/i);o.x>=this.node.x&&o.y>=this.node.y?t=180*-a/Math.PI:o.x<this.node.x&&o.y>=this.node.y?t=180*a/Math.PI:o.x<this.node.x&&o.y<this.node.y?t=180-180*a/Math.PI:o.x>=this.node.x&&o.y<this.node.y&&(t=180+180*a/Math.PI),this.node.angle=t,this.SwimmingTime=0}},t.prototype.covertToPosition=function(e,t){e*=.017453293;var o=Math.cos(e)*t,n=Math.sin(e)*t;return cc.v3(this.node.x+o,this.node.y+n,0)},t.prototype.covertToAngle=function(e){return e.x>=0&&e.y>=0?90-180*Math.atan(e.x/e.y)/Math.PI:e.x<0&&e.y>=0?90+180*Math.atan(Math.abs(e.x)/e.y)/Math.PI:e.x<0&&e.y<0?180+180*Math.atan(Math.abs(e.y)/Math.abs(e.x))/Math.PI:e.x>=0&&e.y<0?-180*Math.atan(Math.abs(e.y)/Math.abs(e.x))/Math.PI:void 0},a([d],t.prototype,"enemyIndex",void 0),a([u],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./common/Define":"Define","./common/PlayData":"PlayData","./common/utils":"utils"}],gameCheckLogin:[function(e,t,o){"use strict";cc._RF.push(t,"ef80cr/polOtJUqkayIOw12","gameCheckLogin"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./gameShareAdsVideo"),i=function(){function e(){}return e.getPlatformClass=function(){return n.default.Instance.getPlatformClass()},e.gameLogin=function(e){if(cc.sys.platform!==cc.sys.BYTEDANCE_GAME)return!1;var t=this;this.getPlatformClass().login({force:e,success:function(e){t.gameCode=e.code,t.anonymousCode=e.anonymousCode},fail:function(){}})},e.gameCheckSession=function(){},e.getOpenId=function(){},e.getUserInfo=function(){},e.GetAva64Image=function(){},e}();o.default=i,cc._RF.pop()},{"./gameShareAdsVideo":"gameShareAdsVideo"}],gameNetWorkState:[function(e,t,o){"use strict";cc._RF.push(t,"06c28JDhBVBkJPCGrYuRuI/","gameNetWorkState"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../gameStorage"),i=e("../PlayData"),a=e("./gameShareAdsVideo"),c=function(){function e(){this.url="https://www.smaame.top/sgame",this.openData=null,this.isget=!1}return Object.defineProperty(e,"Instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.getPlatformClass=function(){return a.default.Instance.getPlatformClass()},e.prototype.getIsShiPingCome=function(){if(cc.sys.os===cc.sys.OS_IOS||cc.sys.os==cc.sys.OS_ANDROID){if(cc.sys.platform==cc.sys.BYTEDANCE_GAME){var e=this.getPlatformClass().getLaunchOptionsSync();return"023001"==e.scene||"023002"==e.scene}return!1}return!1},e.prototype.getGameOpenState=function(e){if(this.openData)return e();var t,o=a.default.Instance.getName();t=cc.sys.platform==cc.sys.MOBILE_BROWSER?"https://www.slgme.top/pv?name=":this.url+"?appid=&name="+o;var n=new XMLHttpRequest;this.openData=null;var i=this;this.isget=!1,n.onreadystatechange=function(){if(4==n.readyState&&n.status>=200&&n.status<400){var t=n.responseText;i.isget=!0;var o=JSON.parse(t);i.openData=o.data,e()}},n.open("GET",t,!0),n.send(),setTimeout(function(){0==i.isget?i.noNetWork():console.log("\u4e0d\u5904\u7406")},1e4)},e.prototype.noNetWork=function(){this.openData={auto:!1,show:!1,scene:!1,open:!1},this.openData.open=!1},e.prototype.getShow=function(){return null!=this.openData&&null!=this.openData||this.noNetWork(),!(!this.openData||!this.openData.show)&&this.openData.show},e.prototype.getTuiGuang=function(){return null!=this.openData&&null!=this.openData&&this.openData.open},e.prototype.getScene=function(){return null!=this.openData&&null!=this.openData||this.noNetWork(),!!this.openData.scene&&this.openData.scene},e.prototype.getAuto=function(){return null!=this.openData&&null!=this.openData||this.noNetWork(),this.getIsShiPingCome()?!!this.openData.auto&&this.openData.auto:!!this.getScene()&&(!!this.openData.auto&&this.openData.auto)},e.prototype.getOpenState_Video=function(){return this.getAuto()},e.prototype.getOpenState_ShiPin_Tag=function(){return 1!=this.getAuto()},e.prototype.getHomeBack=function(){},e.prototype.getGameOut=function(){},e.prototype.addGameBackEvent=function(){},e.prototype.setGameOut=function(){},e.prototype.getPhoneIp=function(){if(cc.sys.platform==cc.sys.BYTEDANCE_GAME){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==e.readyState&&e.status>=200&&e.status<400){var t=e.responseText.split("=")[1];t=t.split(";")[0];var o=JSON.parse(t);i.default.Instance.userSysInfo.cid=o.cid,i.default.Instance.userSysInfo.cip=o.cip,i.default.Instance.userSysInfo.cname=o.cname,n.default.setUserSysInfo()}},e.open("GET","http://pv.sohu.com/cityjson?ie=utf-8",!0),e.send(),setTimeout(function(){var e=(new Date).toString();i.default.Instance.userSysInfo.cip="L"+e},1e4)}},e._instance=null,e}();o.default=c,cc._RF.pop()},{"../PlayData":"PlayData","../gameStorage":"gameStorage","./gameShareAdsVideo":"gameShareAdsVideo"}],gameShareAdsVideo:[function(e,t,o){"use strict";cc._RF.push(t,"b30cb5BortL0YynXMY49hMr","gameShareAdsVideo"),Object.defineProperty(o,"__esModule",{value:!0}),o.CustomAdType=void 0;var n=e("../utils");(function(e){e[e.none=0]="none",e[e.banner_tuwen=1]="banner_tuwen",e[e.banner_tu=2]="banner_tu",e[e.vertical_R=3]="vertical_R",e[e.vertical_L=4]="vertical_L",e[e.juzhen=5]="juzhen"})(o.CustomAdType||(o.CustomAdType={}));var i=function(){function e(){this.isdebug=!1,this.videoRecordingState=0,this.video_recorder=null,this.videoStartTime=null,this.videoPath=null,this.videoIsExist=0,this.recorderTime=120,this.videoAd=null,this.chaPingErr=!1,this.chaPing=null,this.bannerAd=null,this.videoCallBack=null,this.videoFailCallBack=null,this.isshowbanner=!1,this.tt_info={gamename:"xxx",shareTitle:"#xxx#xxxxx",appId:"xxxx",videoId:"mi61n4icnoxxxo7fkf3c7",chapingId:"2c4nk9lh99xxxn26h8h07",bannerId:"i5h44f3jrfbxxx1fc5e7f",templateId:["","","",""],videoTopics:["xx","xx"],appSecret:""},this.ks_info={gamename:"xx",shareTitle:"#xx#xx",appId:"ks68229534xxx6305434858",bannerId:"",videoId:"230000x2450_01",chapingId:"2300x002450_02",templateId:["","","",""],videoTopics:["xxx","xx"],appSecret:""},this.wx_info={gamename:"xx",shareTitle:"#xx#xx",appId:"wx52e51867e8276436",bannerId:"",gezi:"",videoId:"adunit-4bf5544b44033aca",chapingId:"adunit-568e99fcd4fa800a",NativeAd:{bannerId:"adunit-2129abef4a378072"},templateId:["","","",""],videoTopics:["xx","xx"]},this.url="https://www.sxmxalxxlgxxaxme.top/sgame",this.web_url=" https://www.xsmxxxallxxgame.top/pv"}return Object.defineProperty(e,"Instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"platform",{get:function(){return cc.sys.platform==cc.sys.BYTEDANCE_GAME?(this._platform="tt",this._platform):cc.sys.platform==cc.sys.WECHAT_GAME?(this._platform="wx",this._platform):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"plaform",{set:function(e){this._platform=e},enumerable:!1,configurable:!0}),e.prototype.getPlatformClass=function(){var e=null;switch(this.platform){case"tt":e=tt;break;case"op":e=qg;break;case"wx":e=wx;break;case"ks":e=ks}return e},e.prototype.getShareTitle=function(){var e="";switch(this.platform){case"tt":e=this.tt_info.shareTitle;break;case"ks":e=this.ks_info.shareTitle;break;case"wx":e=this.wx_info.shareTitle}return e},e.prototype.getName=function(){var e="";switch(this.platform){case"tt":e=this.tt_info.gamename;break;case"ks":e=this.ks_info.gamename;break;case"wx":e=this.wx_info.gamename}return e},e.prototype.getBannerId=function(){var e="";switch(this.platform){case"tt":e=this.tt_info.bannerId;break;case"ks":e=this.ks_info.bannerId;break;case"wx":e=this.wx_info.NativeAd.bannerId}return e},e.prototype.getVideoId=function(){var e="";switch(this.platform){case"tt":e=this.tt_info.videoId;break;case"ks":e=this.ks_info.videoId;break;case"wx":e=this.wx_info.videoId}return e},e.prototype.getChaPingId=function(){var e="";switch(this.platform){case"tt":e=this.tt_info.chapingId;break;case"ks":e=this.ks_info.chapingId;break;case"wx":e=this.wx_info.chapingId}return e},e.prototype.getTemplateId=function(){var e="",t=this.tt_info.templateId.length,o=this.getRangeRandom(0,t);switch(this.platform){case"tt":e=this.tt_info.templateId[o];break;case"wx":e=this.wx_info.templateId[o]}return e},e.prototype.showShareMenu=function(){wx.showShareMenu({menus:["shareAppMessage","shareTimeline"],success:function(){console.log("\u5f00\u542f\u88ab\u52a8\u8f6c\u53d1\u6210\u529f!")},fail:function(e){console.log(e),console.log("\u5f00\u542f\u88ab\u52a8\u8f6c\u53d1\u5931\u8d25!")}}),wx.onShareAppMessage(function(){return{title:"\u961f\u957f\u5e26\u4f60\u4eec\u88c513,\u5e26\u4f60\u4eec\u8d77\u98de\uff01",imageUrl:"",query:""}}),wx.onShareTimeline(function(){return{title:"\u961f\u957f\u5e26\u4f60\u4eec\u88c513,\u5e26\u4f60\u4eec\u8d77\u98de\uff01",imageUrl:"",query:""}})},e.prototype.game_share=function(e){if(console.log("\u6e38\u620f\u5206\u4eab"),this.isdebug)return e();if(cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.platform==cc.sys.BYTEDANCE_GAME){this.getShareTitle();var t=this.getTemplateId();this.getPlatformClass().shareAppMessage({templateId:t,query:"",success:function(){e()},fail:function(){}})}else this.platform},e.prototype.shareGameToFriend=function(e,t){if(console.log("\u5206\u4eab\u5230\u597d\u53cb"),this.isdebug)return e();var o="\u4f60\u7684\u597d\u53cb\u9080\u8bf7\u4f60\u4e00\u8d77\u6218\u6597";if(t&&(o=t),cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.platform==cc.sys.BYTEDANCE_GAME){var n=this.getName();this.getPlatformClass().shareAppMessage({channel:"invite",title:n,desc:o,imageUrl:"",query:"",success:function(){},fail:function(){}})}},e.prototype.bannerAds_Load=function(){if(console.log("banner \u5e7f\u544a\u52a0\u8f7d"),!this.isdebug&&cc.sys.platform==cc.sys.WECHAT_GAME){var t=this.getPlatformClass().getWindowInfo(),o=this.getBannerId();this.bannerAd=wx.createCustomAd({adUnitId:o,adIntervals:35,style:{left:0,top:t.windowHeight-120,fixed:!0}}),this.bannerAd.onError(function(t){console.log("\u5e7f\u544a\u62a5\u9519,Ad_Custom_Banner_Tu",t),e.Instance.bannerAd=null})}},e.prototype.bannerAds_Show=function(){if(console.log("banner \u5e7f\u544a\u663e\u793a"),!this.isdebug){var e=this;if(cc.sys.platform==cc.sys.BYTEDANCE_GAME){if(null==e.bannerAd){var t=this.getPlatformClass().getSystemInfoSync(),o=t.windowWidth,n=this.getBannerId();e.bannerAd=this.getPlatformClass().createBannerAd({adUnitId:n,style:{left:(t.windowWidth-o)/2,top:t.windowHeight-100,width:o,height:100}}),e.bannerAd.onResize(function(o){e.bannerAd.style.left=(t.windowWidth-o.width)/2,e.bannerAd.style.top=t.windowHeight-o.height}),e.bannerAd.onError(function(){})}null!=e.bannerAd&&e.bannerAd.show()}else cc.sys.platform===cc.sys.WECHAT_GAME&&(this.bannerAd?this.bannerAd.show():this.bannerAds_Load())}},e.prototype.bannerAds_Hide=function(){console.log("banner \u5e7f\u544a\u9690\u85cf"),this.isdebug||(cc.sys.platform==cc.sys.BYTEDANCE_GAME?null!=this.bannerAd&&this.bannerAd.hide():cc.sys.platform===cc.sys.WECHAT_GAME?this.bannerAd&&this.bannerAd.hide():this.platform)},e.prototype.chaPingAds_Load=function(){if(console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d"),!this.isdebug&&cc.sys.platform==cc.sys.WECHAT_GAME){var e=this.getChaPingId();this.chaPing=this.getPlatformClass().createInterstitialAd({adUnitId:e}),this.chaPing.onError(function(e){console.log("\u63d2\u5c4f\u5e7f\u544a\u62c9\u53d6\u5931\u8d25",e)})}},e.prototype.chaPingAds_Show=function(e){if(console.log("\u63d2\u5c4f\u5e7f\u544a\u663e\u793a"),!this.isdebug){var t=this;if(cc.sys.platform==cc.sys.WECHAT_GAME){if(1==t.chaPingErr)return void(e&&(this.showToast("\u8d44\u6e90\u672a\u51c6\u5907\u597d..."),e()));t.chaPingErr=!0,window.setTimeout(function(){t.chaPingErr=!1},45e3),t.chaPing.show().then(function(){e&&e()}).catch(function(o){console.error(o),t.showToast("\u8d44\u6e90\u672a\u51c6\u5907\u597d..."),console.log("\u5c55\u793a\u5e7f\u544a\u5931\u8d25"),e&&e()})}else if(cc.sys.platform==cc.sys.BYTEDANCE_GAME){if("devtools"==this.getPlatformClass().getSystemInfoSync().appName)return console.log("\u63d2\u5c4f\u5f00\u53d1\u5de5\u5177\u4e0d\u64cd\u4f5c");if(1==t.chaPingErr)return;t.chaPingErr=!0,window.setTimeout(function(){t.chaPingErr=!1},45e3);var o=this.getChaPingId();if(this.getPlatformClass().createInterstitialAd){var n=this.getPlatformClass().createInterstitialAd({adUnitId:o});n.load().then(function(){n.show()}).catch(function(e){console.log(e),setTimeout(function(){n.load().then(function(){n.show})},5)}),n.onClose(function(){n&&n.destroy()})}}else this.platform}},e.prototype.motivational_Video_Load=function(){if(console.log("\u6fc0\u52b1\u5e7f\u544a\u52a0\u8f7d"),!this.isdebug)if(cc.sys.platform==cc.sys.WECHAT_GAME){var e=this,t=this.getVideoId();e.videoAd=this.getPlatformClass().createRewardedVideoAd({adUnitId:t}),e.videoAd.onError(function(e){console.log("\u6fc0\u52b1\u89c6\u9891\u9519\u8bef",e)}),e.videoAd.load();var o=function(t){1==t.isEnded?(null!=e.videoCallBack&&(console.log("\u83b7\u53d6\u5956\u52b1"),e.videoCallBack()),-1!=this._type&&e.showToast("\u5df2\u83b7\u5f97")):null!=e.videoFailCallBack&&e.videoFailCallBack(),e.isvideoend=!0,setTimeout(function(){e.checkVideo=!1},6e4)};e.videoAd.onClose(o)}else if(cc.sys.platform==cc.sys.BYTEDANCE_GAME){if("devtools"==this.getPlatformClass().getSystemInfoSync().appName)return console.log("\u5f00\u53d1\u5de5\u5177\u4e0d\u64cd\u4f5c");e=this,t=this.getVideoId(),this.videoAd=this.getPlatformClass().createRewardedVideoAd({adUnitId:t}),this.videoAd.onError(function(){}),this.videoAd.load(),o=function(t){1==t.isEnded?(null!=e.videoCallBack&&e.videoCallBack(),-1!=this._type&&e.showToast("\u5df2\u83b7\u5f97")):null!=e.videoFailCallBack&&e.videoFailCallBack(),e.isvideoend=!0},e.videoAd.onClose(o)}else this.platform},e.prototype.motivational_Video_Show=function(e,t,o){if(console.log("\u5c55\u793a\u6fc0\u52b1\u89c6\u9891"),this.isdebug)return e();var n=this;if(this.videoCallBack=e,this.videoFailCallBack=t,this._type=o,cc.sys.platform==cc.sys.WECHAT_GAME){if(this._type=o,null==n.videoAd||null==n.videoAd)return this.videoCallBack();n.videoAd.onError(function(e){console.log("\u5e7f\u544a\u51fa\u9519\u76d1\u542c",e)}),n.videoAd.show().then(function(){}).catch(function(e){n.showToast("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u5931\u8d25"),console.log("\u6253\u5370\u6fc0\u52b1\u89c6\u9891\u9519\u8bef",e),n.videoAd.load().then(function(){return n.videoAd.show()})})}else if(cc.sys.platform==cc.sys.BYTEDANCE_GAME){if(this.checkVideo=!0,"devtools"==this.getPlatformClass().getSystemInfoSync().appName)return e(),console.log("\u5f00\u53d1\u5de5\u5177\u4e0d\u64cd\u4f5c");if(null==this.videoAd||null==this.videoAd)return this.videoCallBack();this.videoAd.onError(function(){}),this.videoAd.show().then(function(){}).catch(function(){n.showToast("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u5931\u8d25"),n.videoAd.load().then(function(){return n.videoAd.show()})})}else"ks"==this.platform||n.videoCallBack()},e.prototype.createCustomAd=function(){},e.prototype.recording_Video_Start=function(){if(console.log("\u5f55\u5236\u89c6\u9891\u5f00\u59cb"),!this.isdebug){var e=this;if(cc.sys.platform==cc.sys.BYTEDANCE_GAME){if("devtools"==this.getPlatformClass().getSystemInfoSync().appName)return console.log("\u5f00\u53d1\u5de5\u5177\u4e0d\u64cd\u4f5c");e.videoRecordingState=1,e.videoIsExist=0,e.video_recorder=this.getPlatformClass().getGameRecorderManager(),e.videoStartTime=Date.parse((new Date).toString()),e.video_recorder.onStart(function(){}),e.video_recorder.start({duration:e.recorderTime}),e.video_recorder.onStop(function(t){e.videoRecordingState=2,e.videoPath=t.videoPath}),e.video_recorder.onError(function(){})}}},e.prototype.recording_Video_End=function(){if(console.log("\u5f55\u5236\u89c6\u9891\u7ed3\u675f"),!this.isdebug&&cc.sys.platform==cc.sys.BYTEDANCE_GAME){if("devtools"==this.getPlatformClass().getSystemInfoSync().appName)return console.log("\u5f00\u53d1\u5de5\u5177\u4e0d\u64cd\u4f5c");this.video_recorder&&((Date.parse((new Date).toString())-this.videoStartTime)/1e3<=5?this.videoIsExist=1:this.videoIsExist=0,this.video_recorder.stop())}},e.prototype.recording_Video_Share=function(e,t){if(console.log("\u5f55\u5236\u89c6\u9891\u5206\u4eab"),this.isdebug)return e();if(cc.sys.platform==cc.sys.BYTEDANCE_GAME){if("devtools"==this.getPlatformClass().getSystemInfoSync().appName)return console.log("\u5f00\u53d1\u5de5\u5177\u4e0d\u64cd\u4f5c");var o=this;if(1==o.videoIsExist)return void o.showToast("\u5f55\u5236\u65f6\u95f4\u8fc7\u77ed");o.videoRecordingState=3,this.getPlatformClass().shareAppMessage({channel:"video",title:"",imageUrl:"",query:"",extra:{videoPath:o.videoPath,videoTopics:o.tt_info.videoTopics,createChallenge:!0},success:function(){o.showToast("\u5206\u4eab\u89c6\u9891\u6210\u529f"),e()},fail:function(){o.showToast("\u5206\u4eab\u89c6\u9891\u5931\u8d25"),t()}})}else cc.sys.platform==cc.sys.WECHAT_GAME?this.game_share(function(){}):e()},e.prototype.getVideoIsExist=function(){return this.videoIsExist},e.prototype.addShortcut=function(e,t){if(this.isdebug)return e();this.getPlatformClass().addShortcut({success:function(){this.showToast("\u6dfb\u52a0\u684c\u9762\u6210\u529f"),e()},fail:function(){this.showToast("\u6dfb\u52a0\u684c\u9762\u5931\u8d25"),t()}})},e.prototype.checkShortcut=function(){if(!this.isdebug){if(cc.sys.platform!=cc.sys.WECHAT_GAME&&cc.sys.platform!=cc.sys.BYTEDANCE_GAME||cc.sys.os!=cc.sys.OS_ANDROID)return!0;var e=this.getPlatformClass().getSystemInfoSync().SDKVersion;if(!(n.default.compareVersion(e,"2.46.0")>=0))return!0;this.getPlatformClass().checkShortcut({success:function(e){return e.status.exist},fail:function(){return!0}})}},e.prototype.showToast=function(e){cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.platform==cc.sys.BYTEDANCE_GAME?this.getPlatformClass().showToast({title:e,duration:1e3,success:function(){},fail:function(){}}):console.log(e)},e.prototype.getRandomValueDif=function(e,t,o){for(var n=new Array,i=o?o>t-e+1?t-e+1:o:1,a=e,c=0;a<=t;a++,c++)n[c]=a;var r=[];n.sort(function(){return.5-Math.random()});for(var s=0;s<i;s++){var l=Math.floor(Math.random()*n.length);r.push(n[l]);var u=n[l];n[l]=n[n.length-1],n[n.length-1]=u,n.pop()}return r},e.prototype.getRangeRandom=function(e,t){return this.getRandomValueDif(e,t,1)[0]},e.prototype.vibrateShort=function(){cc.sys.platform!=cc.sys.WECHAT_GAME&&cc.sys.platform!=cc.sys.BYTEDANCE_GAME||this.getPlatformClass().vibrateShort()},e.prototype.setImRankData_Num=function(e){if(!this.isdebug&&cc.sys.platform==cc.sys.BYTEDANCE_GAME){var t=tt.getSystemInfoSync(),o=t.SDKVersion,i=t.appName,a=t.version;n.default.compareVersion(o,"2.70.0")>=0&&("Douyin"==i||"douyin_lite"==i)&&n.default.compareVersion(a,"23.2.0")>=0&&tt.setImRankData({dataType:0,value:""+e,priority:0,extra:"extra",success:function(e){console.log("setImRankData success res: "+e)},fail:function(e){console.log("setImRankData fail res: "+e.errMsg)}})}},e.prototype.getImRankList_Num=function(){if(!this.isdebug&&cc.sys.platform==cc.sys.BYTEDANCE_GAME){var e=tt.getSystemInfoSync(),t=e.SDKVersion,o=e.appName,i=e.version;n.default.compareVersion(t,"2.70.0")>=0&&("Douyin"==o||"douyin_lite"==o)&&n.default.compareVersion(i,"23.2.0")>=0?tt.getImRankList({relationType:"default",dataType:0,rankType:"day",suffix:"\u5173",rankTitle:"\u6e38\u620f\u6392\u884c\u699c",success:function(e){console.log("getImRankData success res: "+e)},fail:function(e){console.log("getImRankData fail res: "+e.errMsg)}}):this.showToast("app\u7248\u672c\u4e0d\u652f\u6301\u8be5\u529f\u80fd")}},e.prototype.setImRankData_Enum=function(e,t){if(!this.isdebug&&cc.sys.platform==cc.sys.BYTEDANCE_GAME){var o=tt.getSystemInfoSync(),i=o.SDKVersion,a=o.appName,c=o.version;n.default.compareVersion(i,"2.70.0")>=0&&("Douyin"==a||"douyin_lite"==a)&&n.default.compareVersion(c,"23.2.0")>=0&&tt.setImRankData({dataType:1,value:""+e,priority:t,extra:"extra",success:function(e){console.log("setImRankData success res: "+e)},fail:function(e){console.log("setImRankData fail res: "+e.errMsg)}})}},e.prototype.getImRankList_Enum=function(){if(!this.isdebug&&cc.sys.platform==cc.sys.BYTEDANCE_GAME){var e=tt.getSystemInfoSync(),t=e.SDKVersion,o=e.appName,i=e.version;n.default.compareVersion(t,"2.70.0")>=0&&("Douyin"==o||"douyin_lite"==o)&&n.default.compareVersion(i,"23.2.0")>=0?tt.getImRankList({relationType:"default",dataType:1,rankType:"day",suffix:"",rankTitle:"\u6e38\u620f\u6392\u884c\u699c",success:function(e){console.log("getImRankData success res: "+e)},fail:function(e){console.log("getImRankData fail res: "+e.errMsg)}}):this.showToast("app\u7248\u672c\u4e0d\u652f\u6301\u8be5\u529f\u80fd")}},e._instance=null,e}();o.default=i,cc._RF.pop()},{"../utils":"utils"}],gameStorage:[function(e,t,o){"use strict";cc._RF.push(t,"aa5d9EL3k9BnZ92uju9mxT3","gameStorage"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./Define"),i=e("./PlayData"),a=function(){function e(){}return e.playMusic=function(e){1==this.getMusic()&&(this.stopMusic(),cc.audioEngine.play(e,!0,.4))},e.pauseMusic=function(){1==this.getMusic()&&cc.audioEngine.pauseAll()},e.resumeMusic=function(){1==this.getMusic()&&cc.audioEngine.resumeAll()},e.stopMusic=function(){cc.audioEngine.stopAll()},e.playSound=function(e,t){1==this.getSound()&&cc.audioEngine.play(e,!1,t)},e.setGold=function(e){cc.sys.localStorage.setItem("gold",e)},e.getGold=function(){var e=cc.sys.localStorage.getItem("gold");return void 0===e||""===e||null===e||"NaN"===e?(e=0,this.setGold(e),e):Number(e)},e.addGold=function(e){var t=this.getGold();console.log("\u6253\u5370\u83b7\u53d6\u7684\u91d1\u5e01",t),t+=e,this.setGold(t)},e.setCheckPoint=function(e){cc.sys.localStorage.setItem("checkpoint",e)},e.getCheckPoint=function(){var e=cc.sys.localStorage.getItem("checkpoint");return e=e||0,Number(e)},e.setSXCheckPoint=function(e,t){cc.sys.localStorage.setItem("sx_checkpoint"+e,t)},e.getSXCheckPoint=function(e){var t=cc.sys.localStorage.getItem("sx_checkpoint"+e);return t=t||0,Number(t)},e.setSXAdNum=function(e,t){cc.sys.localStorage.setItem("sx_adnum"+e,t)},e.getSXAdNum=function(e){var t=cc.sys.localStorage.getItem("sx_adnum"+e);return t=t||0,Number(t)},e.setVipNum=function(e){cc.sys.localStorage.setItem("vipnum",e)},e.getVipNum=function(){var e=cc.sys.localStorage.getItem("vipnum");return e=e||0,Number(e)},e.setCheckPointStar=function(e){var t=JSON.stringify(e);cc.sys.localStorage.setItem("checkstar",t)},e.getCheckPointStar=function(){var e=cc.sys.localStorage.getItem("checkstar");return e?JSON.parse(e):[]},e.setAuto=function(e){cc.sys.localStorage.setItem("battleAuto",e)},e.getAuto=function(){var e=cc.sys.localStorage.getItem("battleAuto");return e=e||0,Number(e)},e.setOpenId=function(e){cc.sys.localStorage.setItem("openid",e)},e.getOpenId=function(){return cc.sys.localStorage.getItem("openid")||""},e.setUserInfo=function(){var e=JSON.stringify(i.default.Instance.userInfo);cc.sys.localStorage.setItem("userinfo",e)},e.getUserInfo=function(){var e=cc.sys.localStorage.getItem("userinfo")||null;if(e){var t=JSON.parse(e);i.default.Instance.userInfo.hightScore=t.hightScore,i.default.Instance.userInfo.icon=t.icon,i.default.Instance.userInfo.openid=t.openid,i.default.Instance.userInfo.name=t.name}return i.default.Instance.userInfo},e.setUserSysInfo=function(){var e=JSON.stringify(i.default.Instance.userSysInfo);cc.sys.localStorage.setItem("usersysinfo",e)},e.getUserSysInfo=function(){var e=cc.sys.localStorage.getItem("usersysinfo")||null;if(e){var t=JSON.parse(e);i.default.Instance.userSysInfo.cid=t.cid,i.default.Instance.userSysInfo.cip=t.cip,i.default.Instance.userSysInfo.cname=t.cname}return i.default.Instance.userInfo},e.getHighScore=function(){var e=cc.sys.localStorage.getItem("highScore");return e=e||0,Number(e)},e.setHighScore=function(e){cc.sys.localStorage.setItem("highScore",e)},e.setSkin=function(e){var t=JSON.stringify(e);cc.sys.localStorage.setItem("skin",t)},e.getSkin=function(){var e=cc.sys.localStorage.getItem("skin");return e?JSON.parse(e):[1,0,0,0,0,0]},e.getUseSkinId=function(){return 0},e.getBingDong=function(){var e=cc.sys.localStorage.getItem("bingdong");return void 0===e||""===e||null===e||"NaN"===e?(e=1,this.setBingDong(e),e):Number(e)},e.setBingDong=function(e){cc.sys.localStorage.setItem("bingdong",e)},e.getHuDun=function(){var e=cc.sys.localStorage.getItem("hudun");return void 0===e||""===e||null===e||"NaN"===e?(e=1,this.setHuDun(e),e):Number(e)},e.setHuDun=function(e){cc.sys.localStorage.setItem("hudun",e)},e.setMusic=function(e){cc.sys.localStorage.setItem("music",e)},e.getMusic=function(){var e=cc.sys.localStorage.getItem("music");return e=e||1,Number(e)},e.setSound=function(e){cc.sys.localStorage.setItem("sound",e)},e.getSound=function(){var e=cc.sys.localStorage.getItem("sound");return e?e=Number(e):(e=0,this.setSound(e)),e},e.setzhendong=function(e){cc.sys.localStorage.setItem("zhendong",e)},e.getzhendong=function(){var e=cc.sys.localStorage.getItem("zhendong");return e?e=Number(e):(e=0,this.setzhendong(e)),e},e.setZhong=function(e){var t=JSON.stringify(e);cc.sys.localStorage.setItem("zhong",t)},e.getZhong=function(){var e=cc.sys.localStorage.getItem("zhong");return e?JSON.parse(e):[]},e.setLoginData=function(e){cc.sys.localStorage.setItem("riqi",e)},e.getLoginData=function(){var e=cc.sys.localStorage.getItem("riqi");return e=e||0,Number(e)},e.setSignData=function(e){cc.sys.localStorage.setItem("signData",e)},e.getSignData=function(){var e=cc.sys.localStorage.getItem("signData");return e=e||0,Number(e)},e.getSkinData=function(){var e=cc.sys.localStorage.getItem("gameskin");return void 0===e||""===e||null===e||"NaN"===e?(e=[1,1,0,0,0,0],this.setSkinData(e),e):JSON.parse(e)},e.setSkinData=function(e){var t=JSON.stringify(e);cc.sys.localStorage.setItem("gameskin",t)},e.getHaveSkinData=function(){for(var e=[],t=this.getSkinData(),o=0;o<t.length;o++)1==t[o]&&e.push(o);return e},e.getSelectSkinId=function(){var e=cc.sys.localStorage.getItem("selectSkinId");return e=e||0,Number(e)},e.setSelectSkinId=function(e){cc.sys.localStorage.setItem("selectSkinId",e)},e.getSelectBgId=function(){for(var e=this.getSkinData(),t=0,o=0;o<e.length;o++)1==e[o]&&(t=o);return t},e.setEnergy=function(e){i.default.Instance.nowEnery=e,cc.sys.localStorage.setItem("tili",e)},e.getEnergy=function(){var e=cc.sys.localStorage.getItem("tili");return null!=e&&""!==e&&"NaN"!==e||(e=n.default.maxEnery,this.setEnergy(e)),i.default.Instance.nowEnery=Number(e),Number(e)},e.setLoginIndex=function(e){cc.sys.localStorage.setItem("loginindex",e)},e.getLoginIndex=function(){var e=cc.sys.localStorage.getItem("loginindex");return e=e||0,Number(e)},e.setoffLineTime=function(){var e=(new Date).getTime();cc.sys.localStorage.setItem("logintime",e)},e.getoffLineTime=function(){var e=cc.sys.localStorage.getItem("logintime");return e=e||0,Number(e)},e.judgeControl=function(){},e.setOpenDanData=function(e){var t=JSON.stringify(e);cc.sys.localStorage.setItem("opendan",t)},e.getOpenDanData=function(){var e,t=(new Date).getDate(),o=cc.sys.localStorage.getItem("opendan");return o?(e=JSON.parse(o))[0]!=t?[t,0,0]:e:((e=[0,0,0])[0]=t,e)},e}();o.default=a,cc._RF.pop()},{"./Define":"Define","./PlayData":"PlayData"}],itemSc:[function(e,t,o){"use strict";cc._RF.push(t,"f97e5vLS0NA2aptOTW2Cbh+","itemSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./common/Define"),r=cc._decorator,s=r.ccclass,l=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.propType=c.ItemType.YaoShi,t}return i(t,e),t.prototype.start=function(){},a([l({type:cc.Enum(c.ItemType)})],t.prototype,"propType",void 0),a([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"./common/Define":"Define"}],joystickSc:[function(e,t,o){"use strict";cc._RF.push(t,"c1bf0pa94lOvboZczpmFoFY","joystickSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./playerSc"),r=cc._decorator,s=r.ccclass,l=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.joyBk=null,t.midNode=null,t.maxR=80,t.playerSc=null,t}return i(t,e),t.prototype.start=function(){this.joyBk.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.joyBk.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.joyBk.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.joyBk.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.node.active=!1;var e=cc.find("Canvas/playernode").children;this.playerSc=e[0].getComponent(c.default)},t.prototype.goBackMid=function(){this.midNode.setPosition(0,0)},t.prototype.onTouchStart=function(e){var t=this.node.convertToNodeSpaceAR(e.getLocation());this.clampPos(t),this.midNode.setPosition(0,0),this.covertToAngle(t);var o=e.getLocation();this.node.active=!0;var n=cc.find("Canvas").convertToNodeSpaceAR(o);this.node.setPosition(n),this.node.active=!0},t.prototype.onTouchMove=function(e){var t=this.node.convertToNodeSpaceAR(e.getLocation());this.clampPos(t),this.midNode.setPosition(t.x,t.y);var o=this.covertToAngle(t);this.playerSc.playerMoving(t,o)},t.prototype.onTouchEnd=function(){this.goBackMid(),this.node.active=!1},t.prototype.clampPos=function(e){var t=e.mag();if(t>this.maxR){var o=this.maxR/t;e.x*=o,e.y*=o}},t.prototype.covertToAngle=function(e){var t=Math.atan2(e.y,e.x);return cc.misc.radiansToDegrees(t)+90},a([l(cc.Node)],t.prototype,"joyBk",void 0),a([l(cc.Node)],t.prototype,"midNode",void 0),a([l(cc.Float)],t.prototype,"maxR",void 0),a([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"./playerSc":"playerSc"}],loading:[function(e,t,o){"use strict";cc._RF.push(t,"913b07TOjtDvJKUDI1NxXfq","loading");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,s=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){var e=this;cc.tween(this.node).delay(10).call(function(){e.node.destroy()}).start()},t.prototype.start=function(){},a([r],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],mapSc:[function(e,t,o){"use strict";cc._RF.push(t,"31e4dCwLY5DLrTRM0hXg207","mapSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./common/Define"),r=e("./common/GameData"),s=e("./common/PlayData"),l=e("./tiledPrefab"),u=cc._decorator,d=u.ccclass,p=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.maptiled=null,t.titleHeight=634,t.titlePoy_0=317,t.mapIndex=0,t.delMapIndex=0,t.mapZindex=2550,t}return i(t,e),t.prototype.onLoad=function(){this.mapIndex=0,this.delMapIndex=0,s.default.Instance.wujin_guanqianum=0},t.prototype.start=function(){this.setMap()},t.prototype.setMap=function(){var e=null;if(s.default.Instance.gameType==c.GameType.guanqia){var t=s.default.Instance.guanqianum;e=r.default.gameData.MapData[t]}else s.default.Instance.gameType==c.GameType.wujin&&(e=r.default.gameData.wujinMapData[s.default.Instance.wujin_guanqianum]);console.log("\u6253\u5370\u65e0\u5c3d\u5173\u5361\u6570",s.default.Instance.wujin_guanqianum);for(var o=0;o<e.length;o++){var n=e[o],i=cc.instantiate(l.default.Instance.tiledRes[n]);if(i.parent=this.maptiled,i.name="title"+this.mapIndex,i.y=this.titlePoy_0+this.mapIndex*this.titleHeight,i.zIndex=this.mapZindex-this.mapIndex,this.mapIndex++,this.mapIndex>25){var a="title"+this.delMapIndex;this.delMapIndex++;var u=cc.find(a,this.maptiled);u&&u.destroy()}}},t.prototype.bingDongAllAction=function(){for(var e=this.maptiled.getComponentsInChildren(cc.Animation),t=0;t<e.length;t++)e[t].pause()},t.prototype.openAllAction=function(){for(var e=this.maptiled.getComponentsInChildren(cc.Animation),t=0;t<e.length;t++)e[t].resume()},a([p(cc.Node)],t.prototype,"maptiled",void 0),a([d],t)}(cc.Component);o.default=f,cc._RF.pop()},{"./common/Define":"Define","./common/GameData":"GameData","./common/PlayData":"PlayData","./tiledPrefab":"tiledPrefab"}],moregamePanelSc:[function(e,t,o){"use strict";cc._RF.push(t,"3fa63sNlrVFXqNpfgQ5h3B0","moregamePanelSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../resources/tips/TipsManager"),r=e("./common/Define"),s=e("./common/gameStorage"),l=e("./common/PlayData"),u=e("./common/sdkTools/gameShareAdsVideo"),d=e("./GamePrefab"),p=cc._decorator,f=p.ccclass,h=p.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=null,t}return i(t,e),t.prototype.onLoad=function(){var e=cc.find("sanxiaotuitui",this.content),t=cc.find("shipinTag",e),o=s.default.getSXAdNum(r.GameType.sanxiaotuitui),n=cc.find("adnum",t).getComponent(cc.Label);o>=3?t.active=!1:(t.active=!0,n.string="("+o+"/3)")},t.prototype.start=function(){},t.prototype.onEnable=function(){u.default.Instance.chaPingAds_Show(),u.default.Instance.bannerAds_Show()},t.prototype.onDisable=function(){u.default.Instance.bannerAds_Hide()},t.prototype.enterGameBtnClick=function(e,t){if("sanxiaotuitui"==t){var o=s.default.getSXAdNum(r.GameType.sanxiaotuitui);if(console.log("\u6253\u5370\u5e7f\u544a\u6570",o),o<3)u.default.Instance.motivational_Video_Show(function(){o++;var t=e.target,n=cc.find("shipinTag",t);cc.find("adnum",n).getComponent(cc.Label).string="("+o+"/3)",s.default.setSXAdNum(r.GameType.sanxiaotuitui,o),o>=3&&(l.default.Instance.gameType=r.GameType.sanxiaotuitui,cc.director.loadScene("SanXiaoTuiTuiGameScene"))},function(){});else{if(s.default.getEnergy()<=0)return c.default.Instance.createTips("\u4f53\u529b\u4e0d\u8db3"),void(cc.instantiate(d.default.Instance.uiPre.addEngry).parent=cc.director.getScene());s.default.setEnergy(s.default.getEnergy()-1),cc.director.emit("addengry"),l.default.Instance.gameType=r.GameType.sanxiaotuitui,cc.director.loadScene("SanXiaoTuiTuiGameScene")}}},t.prototype.closeBtnClick=function(){this.node.destroy()},a([h(cc.Node)],t.prototype,"content",void 0),a([f],t)}(cc.Component);o.default=g,cc._RF.pop()},{"../resources/tips/TipsManager":void 0,"./GamePrefab":"GamePrefab","./common/Define":"Define","./common/PlayData":"PlayData","./common/gameStorage":"gameStorage","./common/sdkTools/gameShareAdsVideo":"gameShareAdsVideo"}],pausePanel:[function(e,t,o){"use strict";cc._RF.push(t,"b2f5aRAXxdCJosaWcvPejts","pausePanel");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./common/Define"),r=e("./common/gameStorage"),s=e("./common/PlayData"),l=e("./common/sdkTools/gameShareAdsVideo"),u=e("./GamePrefab"),d=cc._decorator,p=d.ccclass,f=d.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.zhendong=null,t.yinyue=null,t.addtiliprefab=null,t.loading=null,t}return i(t,e),t.prototype.onLoad=function(){this.loading=u.default.Instance.uiPre.loading,this.addtiliprefab=u.default.Instance.uiPre.addEngry,l.default.Instance.chaPingAds_Show(),l.default.Instance.bannerAds_Show(),this.zhendong.active=!(1==r.default.getzhendong()),this.yinyue.active=1==r.default.getSound();var e=cc.winSize,t=cc.find("kuang",this.node);t.y=e.height/2+300,cc.tween(t).to(.2,{position:cc.v3(0,0,0)}).call(function(){cc.director.pause()}).start()},t.prototype.start=function(){},t.prototype.close=function(){cc.director.resume(),l.default.Instance.bannerAds_Hide(),this.node.destroy()},t.prototype.replay=function(){if(l.default.Instance.bannerAds_Hide(),l.default.Instance.recording_Video_End(),r.default.getEnergy()<=0)return cc.director.resume(),cc.instantiate(this.addtiliprefab).parent=cc.director.getScene(),void this.scheduleOnce(function(){cc.director.pause()},.2);switch(r.default.setEnergy(r.default.getEnergy()-1),s.default.Instance.gameType){case c.GameType.guanqia:case c.GameType.wujin:cc.director.resume(),cc.director.loadScene("GameScene");break;case c.GameType.gecao:break;case c.GameType.sanxiaotuitui:cc.director.resume(),cc.director.loadScene("SanXiaoTuiTuiGameScene")}},t.prototype.addLoading=function(){cc.instantiate(this.loading).parent=cc.director.getScene()},t.prototype.zhendongclick=function(){this.zhendong.active=!this.zhendong.active,this.zhendong.active?r.default.setzhendong(0):r.default.setzhendong(1)},t.prototype.yinyueclick=function(){this.yinyue.active=!this.yinyue.active,this.yinyue.active?(r.default.setSound(1),cc.audioEngine.stopAll()):(r.default.setSound(0),cc.game.emit("playbg"))},t.prototype.backToStartScene=function(){cc.director.resume(),l.default.Instance.recording_Video_End(),l.default.Instance.bannerAds_Hide(),cc.instantiate(this.loading).parent=cc.director.getScene(),cc.director.loadScene("StartScene")},a([f(cc.Node)],t.prototype,"zhendong",void 0),a([f(cc.Node)],t.prototype,"yinyue",void 0),a([p],t)}(cc.Component);o.default=h,cc._RF.pop()},{"./GamePrefab":"GamePrefab","./common/Define":"Define","./common/PlayData":"PlayData","./common/gameStorage":"gameStorage","./common/sdkTools/gameShareAdsVideo":"gameShareAdsVideo"}],playerSc:[function(e,t,o){"use strict";cc._RF.push(t,"5ed2bX/SyhJtYMwPZWi1bXW","playerSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./common/Define"),r=e("./common/GameData"),s=e("./common/PlayData"),l=e("./common/utils"),u=e("./GamePrefab"),d=e("./itemSc"),p=e("./mapSc"),f=e("./TopUi"),h=cc._decorator,g=h.ccclass,m=h.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.quan=null,t.quan_par=null,t.jianci=null,t.endpanel=null,t.relivepanel=null,t.winPanel=null,t.titleMapNode=null,t.winSize=null,t.vector=null,t.huDun=!1,t.hudunTime=0,t.quanTime=0,t.playerState=0,t}return i(t,e),t.prototype.onLoad=function(){this.initPrefab(),this.winSize=cc.winSize,this.playerState=c.GameState.gaming,this.huDun=!1,this.quan.active=this.huDun,this.quan_par.node.active=this.huDun,this.vector=cc.v2(0,0),console.log("\u4f4d\u7f6e",this.node.position),this.jianci=cc.find("Canvas/wuji_ci"),this.jianci.active=!0},t.prototype.initPrefab=function(){this.endpanel=u.default.Instance.uiPre.endPanel,this.relivepanel=u.default.Instance.uiPre.relivePanel,this.winPanel=u.default.Instance.uiPre.winPanel,s.default.Instance.gameType==c.GameType.gecao&&(this.titleMapNode=cc.find("Canvas/titleMap"))},t.prototype.start=function(){},t.prototype.openHuDun=function(){this.huDun=!0,this.quan.active=this.huDun,this.quan_par.node.active=this.huDun,this.quan_par.progress=1,this.quanTime=c.default.hudunTime,this.hudunTime=c.default.hudunTime},t.prototype.closeHuDun=function(){this.huDun=!1,this.quan.active=this.huDun,this.quan_par.node.active=this.huDun},t.prototype.relive=function(){this.playerState=c.GameState.gaming,this.huDun=!0,this.quan.active=this.huDun,this.quan_par.node.active=this.huDun,this.quan_par.progress=1,this.hudunTime=c.default.reliveHuDun,this.quanTime=c.default.reliveHuDun;var e=this.node.getChildByName("death");e&&e.destroy()},t.prototype.playerMoving=function(e,t){this.vector.x=e.x,this.vector.y=e.y,t&&(this.node.angle=t)},t.prototype.onCollisionEnter=function(e){var t=this;if(this.playerState!==c.GameState.gameover){var o=e.node;switch(o.getComponent(d.default).propType){case c.ItemType.YaoShi:cc.game.emit("getkey"),o.destroy(),this.addGoldPre(o,cc.find("Canvas/UiNode/topui"));break;case c.ItemType.FeiCi:0==this.huDun&&(this.playerState=c.GameState.gameover,cc.game.emit("death"),this.setDeathAni(),cc.tween(this.node).delay(.2).call(function(){0==l.default.getRangeRandom(0,2)?cc.instantiate(t.endpanel).parent=cc.director.getScene():cc.instantiate(t.relivepanel).parent=cc.director.getScene(),t.playerMoving(cc.v2(0,0))}).start());break;case c.ItemType.End:s.default.Instance.gameType==c.GameType.guanqia?(this.playerState=c.GameState.gameover,cc.game.emit("levelup"),this.playerMoving(cc.v2(0,0)),cc.instantiate(this.winPanel).parent=cc.director.getScene()):s.default.Instance.gameType==c.GameType.wujin&&(o.destroy(),s.default.Instance.wujin_guanqianum++,s.default.Instance.wujin_guanqianum>=r.default.gameData.wujinMapData.length&&(s.default.Instance.wujin_guanqianum=l.default.getRangeRandom(2,r.default.gameData.wujinMapData.length-1)),cc.find("Canvas/mapNode").getComponent(p.default).setMap())}}},t.prototype.setDeathAni=function(){},t.prototype.addGoldPre=function(e,t){var o=this,n=cc.find("Canvas/UiNode"),i=cc.find("Canvas/Main Camera"),a=cc.instantiate(u.default.Instance.uiPre.key),r=e.parent.convertToWorldSpaceAR(cc.v2(e.x,e.y)),l=n.convertToNodeSpaceAR(r);a.position=cc.v3(l.x-i.x,l.y-i.y,0),a.parent=n;var d=t.parent.convertToWorldSpaceAR(cc.v2(t.x,t.y));e.parent.convertToNodeSpaceAR(d),cc.tween(a).to(.4,{position:cc.v3(t.x+150,t.y-30,0),scale:.5}).call(function(){o.playerState==c.GameState.gaming&&(s.default.Instance.getGold++,cc.find("Canvas/UiNode/topui").getComponent(f.default).setGold(s.default.Instance.getGold))}).removeSelf().start()},t.prototype.update=function(e){if(this.huDun){this.hudunTime-=e;var t=this.hudunTime/this.quanTime;this.quan_par.progress=t,t<=0&&this.closeHuDun()}this.playerState!=c.GameState.gameover&&(this.node.x+=this.vector.x*c.default.speed,this.node.y+=this.vector.y*c.default.speed,s.default.Instance.gameType==c.GameType.guanqia||s.default.Instance.gameType==c.GameType.wujin?Math.abs(this.node.y-this.jianci.y)>500&&(this.jianci.y=this.node.y-500):s.default.Instance.gameType==c.GameType.gecao&&(this.node.x<=-this.titleMapNode.width/2+50&&(this.node.x=-this.titleMapNode.width/2+50),this.node.x>this.titleMapNode.width/2-50&&(this.node.x=this.titleMapNode.width/2-50),this.node.y<=-this.titleMapNode.height/2+50&&(this.node.y=-this.titleMapNode.height/2+50),this.node.y>this.titleMapNode.height/2-50&&(this.node.y=this.titleMapNode.height/2-50)),s.default.Instance.playerPos=this.node.position)},a([m(cc.Node)],t.prototype,"quan",void 0),a([m(cc.ProgressBar)],t.prototype,"quan_par",void 0),a([g],t)}(cc.Component);o.default=y,cc._RF.pop()},{"./GamePrefab":"GamePrefab","./TopUi":"TopUi","./common/Define":"Define","./common/GameData":"GameData","./common/PlayData":"PlayData","./common/utils":"utils","./itemSc":"itemSc","./mapSc":"mapSc"}],reLivePanelSc:[function(e,t,o){"use strict";cc._RF.push(t,"8b716eqlkVA4YmiBAUg22sf","reLivePanelSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./GamePrefab"),r=e("./GameSceneSc"),s=cc._decorator,l=s.ccclass,u=s.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title=null,t.btnnode=null,t}return i(t,e),t.prototype.start=function(){},t.prototype.onEnable=function(){this.title.opacity=0,this.title.scale=.3,cc.tween(this.title).to(.2,{scale:1,opacity:255}).start();for(var e=this.btnnode.children,t=0;t<e.length;t++){var o,n=e[t],i=n.position;o=t%2==0?500:-500,n.x=i.x+o,cc.tween(n).delay(.1*t).to(.2,{position:cc.v3(i.x,i.y,0)}).start()}},t.prototype.btnClick=function(e,t){this.node.destroy(),"relive"==t?cc.find("Canvas").getComponent(r.default).reliveCallBack():"fangqi"==t&&(cc.instantiate(c.default.Instance.uiPre.endPanel).parent=cc.director.getScene())},a([u(cc.Node)],t.prototype,"title",void 0),a([u(cc.Node)],t.prototype,"btnnode",void 0),a([l],t)}(cc.Component);o.default=d,cc._RF.pop()},{"./GamePrefab":"GamePrefab","./GameSceneSc":"GameSceneSc"}],tiledPrefab:[function(e,t,o){"use strict";cc._RF.push(t,"9dc5dY/gJpCQrElF3hkZsr4","tiledPrefab");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./common/Define"),r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isloadOver=!1,t.tiledRes=[],t}var o;return i(t,e),o=t,Object.defineProperty(t,"Instance",{get:function(){return null==this.__instance&&(this.__instance=new o),this.__instance},enumerable:!1,configurable:!0}),t.prototype.Initial=function(){this.isloadOver=!1;for(var e=0,t=function(t){var n=c.default.tiledkey[t],i="map/tiled"+n;cc.resources.load(i,cc.Prefab,function(t,i){if(t)return console.log("err=",t);o.Instance.tiledRes[n]=i,++e>=c.default.tiledkey.length&&(console.log("\u52a0\u8f7d\u5b8c\u6210"),o.Instance.isloadOver=!0)})},n=0;n<c.default.tiledkey.length;n++)t(n)},o=a([s],t)}(cc.Component));o.default=l,cc._RF.pop()},{"./common/Define":"Define"}],tiledSc:[function(e,t,o){"use strict";cc._RF.push(t,"7b36enog2lGw6WML3ze/bzl","tiledSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./common/Define"),r=e("./common/PlayData"),s=e("./common/utils"),l=e("./GamePrefab"),u=cc._decorator,d=u.ccclass,p=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tiledtype=c.TiledType.begin,t}return i(t,e),t.prototype.onLoad=function(){var e=this,t=cc.find("leftwall",this.node);t.active=!1;var o=cc.find("rightwall",this.node);o.active=!1,cc.tween(t).delay(.3).call(function(){t.active=!0,o.active=!0}).start();var n=null,i=null,a=0,u=cc.find("Canvas/UiNode/bing");switch(r.default.Instance.gameType==c.GameType.wujin&&this.tiledtype==c.TiledType.end&&(cc.find("men",this.node).getComponent(cc.Sprite).spriteFrame=null),this.tiledtype){case c.TiledType.tiled1:case c.TiledType.tiled2:case c.TiledType.tiled3:case c.TiledType.end:(n=cc.find("heng_left",this.node)).active=!1,(i=cc.find("heng_right",this.node)).active=!1,cc.tween(this.node).delay(.3).call(function(){n.active=!0,i.active=!0}).start();break;case c.TiledType.tiled5:var d=cc.find("shu",this.node);d.active=!1,cc.tween(this.node).delay(.1).call(function(){d.active=!0}).start();break;case c.TiledType.tiled7:case c.TiledType.tiled8:break;case c.TiledType.tiled9:case c.TiledType.tiled19:var p=cc.find("ju",this.node);this.schedule(function(){cc.tween(p).to(2,{position:cc.v3(s.default.getRangeRandom(-300,300),s.default.getRangeRandom(-250,250),0)}).start()},2,3600,1);break;case c.TiledType.tiled10:var f=cc.find("fb",this.node).getComponent(cc.Animation).play();a=s.default.getRangeRandom(8,15),f.speed=a/10;break;case c.TiledType.tiled13:var h=cc.find("ju",this.node).getComponent(cc.Animation).play();a=s.default.getRangeRandom(8,15),h.speed=a/10;break;case c.TiledType.tiled14:for(var g=0;g<3;g++){var m=cc.find("ju"+g,this.node).getComponent(cc.Animation).play();a=s.default.getRangeRandom(3,5),m.speed=a/10}break;case c.TiledType.tiled15:var y=cc.find("heng_right",this.node).getComponent(cc.Animation).play();a=s.default.getRangeRandom(3,6),y.speed=a/10;break;case c.TiledType.tiled20:var v=cc.find("dishuNode/chuizi0",this.node).getComponent(cc.Animation);v.node.active=!1;var _=cc.find("dishuNode/chuizi1",this.node).getComponent(cc.Animation);_.node.active=!1,this.schedule(function(){if(!u.active){var t=s.default.getRandomValueDif(0,8,2),o=cc.find("dishuNode/laoshu_"+t[0],e.node).getComponent(cc.Animation);o.play();var n=cc.find("dishuNode/laoshu_"+t[1],e.node).getComponent(cc.Animation);n.play(),cc.tween(e.node).delay(.5).call(function(){0==v.node.active&&(v.node.active=!0),0==_.node.active&&(_.node.active=!0),v.play(),v.node.position=cc.v3(o.node.x+60,o.node.y-35),_.play(),_.node.position=cc.v3(n.node.x+60,n.node.y-35)}).start()}},1,9999,0);break;case c.TiledType.tiled21:var S=[];for(g=0;g<5;g++){var b=cc.find("ciNode"+g,this.node);b.active=!1,b.getComponent(cc.BoxCollider).enabled=!1,S[g]=b}var P=s.default.getRangeRandom(0,2);this.schedule(function(){if(!u.active)for(var e=s.default.getRandomValueDif(0,4,2),t=function(t){var o=S[e[t]];o.active=!0,cc.tween(o).delay(1).call(function(){o.getComponent(cc.BoxCollider).enabled=!0;for(var e=0;e<9;e++)cc.find("ci"+e,o).getComponent(cc.Animation).play()}).delay(1).call(function(){o.active=!1,o.getComponent(cc.BoxCollider).enabled=!1}).start()},o=0;o<e.length;o++)t(o)},3,99999,P);break;case c.TiledType.tiled22:var T=cc.find("yin",this.node),C=cc.find("pao",T),I=C.getComponent(cc.Animation),w=I.getClips(),D=s.default.getRangeRandom(0,w.length-1),A=(I.play(w[D].name),.6+s.default.getRangeRandom(0,9)/10);this.schedule(function(){var e=cc.instantiate(l.default.Instance.uiPre.zidan),t=70*Math.sin(-C.angle*(Math.PI/180)),o=70*Math.cos(-C.angle*(Math.PI/180));e.angle=C.angle,e.parent=T,e.position=cc.v3(t,o,0);var n=280*Math.sin(-C.angle*(Math.PI/180)),i=280*Math.cos(-C.angle*(Math.PI/180));cc.tween(e).to(2,{position:cc.v3(n,i,0)}).call(function(){e.destroy()}).start()},A,99999,0)}},t.prototype.start=function(){this.tiledtype!=c.TiledType.begin&&this.tiledtype!=c.TiledType.end&&this.setItemState()},t.prototype.setItemState=function(){var e=[],t=0,o=0;switch(this.tiledtype){case c.TiledType.tiled1:e=[[150,150],[-220,30],[0,-55],[220,-100],[-130,-200],[0,-50],[150,50],[-160,-100]],o=s.default.getRangeRandom(0,e.length-1);break;case c.TiledType.tiled2:e=[[-232,10],[150,150],[130,18],[-50,-110],[-150,-220],[-10,-50]],o=s.default.getRangeRandom(0,e.length-1);break;case c.TiledType.tiled3:e=[[-0,-220]],o=s.default.getRangeRandom(0,e.length-1);var n=cc.find("feici",this.node).getComponent(cc.Animation);t=s.default.getRangeRandom(0,19)/10,cc.tween(this.node).delay(t).call(function(){n.play()}).start();break;case c.TiledType.tiled4:e=[[-0,-200]],o=s.default.getRangeRandom(0,e.length-1);var i=cc.find("quan_r",this.node).getComponent(cc.Animation),a=cc.find("quan_l",this.node).getComponent(cc.Animation);t=s.default.getRangeRandom(0,19)/10,cc.tween(this.node).delay(t).call(function(){i.play(),a.play()}).start();break;case c.TiledType.tiled5:e=[[200,0],[-200,0]],o=s.default.getRangeRandom(0,e.length-1),cc.find("ci",this.node).position=0==o?cc.v3(e[1][0],e[1][1],0):cc.v3(e[0][0],e[0][1],0);break;case c.TiledType.tiled6:e=[[0,-150]],o=s.default.getRangeRandom(0,e.length-1);var r=cc.find("ciqiu",this.node).getComponent(cc.Animation);t=s.default.getRangeRandom(0,19)/10,cc.tween(this.node).delay(t).call(function(){r.play()}).start();break;case c.TiledType.tiled7:case c.TiledType.tiled8:case c.TiledType.tiled9:case c.TiledType.tiled10:case c.TiledType.tiled14:case c.TiledType.tiled16:case c.TiledType.tiled17:case c.TiledType.tiled19:e=[[0,0]],o=s.default.getRangeRandom(0,e.length-1);break;case c.TiledType.tiled11:e=[[110,120]],o=s.default.getRangeRandom(0,e.length-1);break;case c.TiledType.tiled12:e=[[-110,120]],o=s.default.getRangeRandom(0,e.length-1);break;case c.TiledType.tiled13:case c.TiledType.tiled15:e=[[0,-160]],o=s.default.getRangeRandom(0,e.length-1);break;case c.TiledType.tiled18:e=[[150,0],[0,0],[-150,0]],o=s.default.getRangeRandom(0,e.length-1);break;case c.TiledType.tiled20:case c.TiledType.tiled21:e=[[100,-100],[-100,100],[-100,-100],[100,100]],o=s.default.getRangeRandom(0,e.length-1);break;case c.TiledType.tiled22:e=[[0,-200],[-200,0],[200,0]],o=s.default.getRangeRandom(0,e.length-1)}var l=cc.find("key",this.node),u=e[o][0],d=e[o][1];l.position=cc.v3(u,d,0)},a([p({type:cc.Enum(c.TiledType)})],t.prototype,"tiledtype",void 0),a([d],t)}(cc.Component);o.default=f,cc._RF.pop()},{"./GamePrefab":"GamePrefab","./common/Define":"Define","./common/PlayData":"PlayData","./common/utils":"utils"}],useItemPanelSc:[function(e,t,o){"use strict";cc._RF.push(t,"6e8a6qJaCBP65cSDkzNLbHj","useItemPanelSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./common/sdkTools/gameShareAdsVideo"),r=e("./GameSceneSc"),s=cc._decorator,l=s.ccclass,u=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.btnClick=function(e,t){"useitem"==t?(this.node.destroy(),c.default.Instance.motivational_Video_Show(function(){cc.find("Canvas").getComponent(r.default).opHuDunClick()},function(){})):"fangqi"==t&&this.node.destroy()},a([l],t)}(cc.Component));o.default=u,cc._RF.pop()},{"./GameSceneSc":"GameSceneSc","./common/sdkTools/gameShareAdsVideo":"gameShareAdsVideo"}],utils:[function(require,module,exports){"use strict";cc._RF.push(module,"bbd9dnzGYNA35JKa2WpkhcV","utils"),Object.defineProperty(exports,"__esModule",{value:!0});var utils=function(){function utils(){}return utils.getRandomValueDif=function(e,t,o){for(var n=new Array,i=o?o>t-e+1?t-e+1:o:1,a=e,c=0;a<=t;a++,c++)n[c]=a;var r=[];n.sort(function(){return.5-Math.random()});for(var s=0;s<i;s++){var l=Math.floor(Math.random()*n.length);r.push(n[l]);var u=n[l];n[l]=n[n.length-1],n[n.length-1]=u,n.pop()}return r},utils.getRangeRandom=function(e,t){return utils.getRandomValueDif(e,t,1)[0]},utils.secondsFormat=function(e,t){var o,n,i=Math.floor(e/3600),a=Math.floor((e-3600*i)/60),c=e-3600*i-60*a;return o=a<10?"0"+a:""+a,n=c<10?"0"+c:""+c,t?(i<10?"0"+i:""+i)+":"+o+":"+n:o+":"+n},utils.compareVersion=function(e,t){e=e.split("."),t=t.split(".");for(var o=Math.max(e.length,t.length);e.length<o;)e.push("0");for(;t.length<o;)t.push("0");for(var n=0;n<o;n++){var i=parseInt(e[n]),a=parseInt(t[n]);if(i>a)return 1;if(i<a)return-1}return 0},utils.toCode=function(e){for(var t,o,n,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",a=i.length,c=i.split(""),r="",s=0;s<e.length;s++)r+=c[(t=((t=((t=e.charCodeAt(s))-(o=t%a))/a)-(n=t%a))/a)%a]+c[n]+c[o];return r},utils.fromCode=function(str){var key="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",l=key.length,b,bl,b2,b3,d=0,s;s=new Array(Math.floor(str.length/3)),b=s.length;for(var i=0;i<b;i++)bl=key.indexOf(str.charAt(d)),d++,b2=key.indexOf(str.charAt(d)),d++,b3=key.indexOf(str.charAt(d)),d++,s[i]=bl*l*l+b2*l+b3;return b=eval("String.fromCharCode("+s.join(",")+")"),b},utils.compileStr=function(e){for(var t=String.fromCharCode(e.charCodeAt(0)+e.length),o=1;o<e.length;o++)t+=String.fromCharCode(e.charCodeAt(o)+e.charCodeAt(o-1));return escape(t)},utils.uncompileStr=function(e){e=decodeURI(e);for(var t=String.fromCharCode(e.charCodeAt(0)-e.length),o=1;o<e.length;o++)t+=String.fromCharCode(e.charCodeAt(o)-t.charCodeAt(o-1));return t},utils.getRiQi=function(){return(new Date).getDate()},utils.shuffle=function(e){for(var t,o,n=e.length;n;)o=e[t=Math.floor(Math.random()*n--)],e[t]=e[n],e[n]=o;return e},utils.randChunkSplit=function(e,t,o){e=e.slice();var n=[],i=1;for(t=t||1,o=o||t||1;e.length>0;)i=Math.min(o,Math.floor(Math.random()*o+t)),n.push(e.splice(0,i));return n},utils.deepClone=function(e){return null===e||"object"!=typeof e?e:e instanceof Date?new Date(e.getTime()):e instanceof Array?e.reduce(function(e,t,o){return e[o]=utils.deepClone(t),e},[]):e instanceof Object?Object.keys(e).reduce(function(t,o){return t[o]=utils.deepClone(e[o]),t},{}):void 0},utils.createArrayWithoutConsecutiveThrees=function(e,t,o){var n=Array.from({length:e},function(){return Array(t).fill(-1)});function i(e,t,o){return!(t>=2&&n[e][t-1]===o&&n[e][t-2]===o||e>=2&&n[e-1][t]===o&&n[e-2][t]===o)}for(var a=0;a<e;a++)for(var c=0;c<t;c++){for(var r=[],s=0;s<=o;s++)i(a,c,s)&&r.push(s);var l=Math.floor(Math.random()*r.length);n[a][c]=r[l]}return n},utils}();exports.default=utils,cc._RF.pop()},{}],winPanelSc:[function(e,t,o){"use strict";cc._RF.push(t,"abcb7vJR7JJBLyD+iPmIo70","winPanelSc");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(a<3?i(c):a>3?i(t,o,c):i(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../resources/tips/TipsManager"),r=e("./common/GameData"),s=e("./common/gameStorage"),l=e("./common/PlayData"),u=e("./common/sdkTools/gameShareAdsVideo"),d=e("./GamePrefab"),p=e("./UiNodeSc"),f=cc._decorator,h=f.ccclass,g=f.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.starNode=[],t}return i(t,e),t.prototype.onLoad=function(){var e=l.default.Instance.guanqianum,t=r.default.gameData.MapData[e].length-3;console.log("winpanel",t,l.default.Instance.getGold);var o;o=t<=l.default.Instance.getGold?3:l.default.Instance.getGold<t&&l.default.Instance.getGold>=t-3?2:1,this.showStar(o),s.default.setGold(s.default.getGold()+l.default.Instance.getGold),l.default.Instance.guanqianum==s.default.getCheckPoint()&&s.default.setCheckPoint(s.default.getCheckPoint()+1);var n=s.default.getCheckPointStar();n[l.default.Instance.guanqianum]?n[l.default.Instance.guanqianum]<o&&(n[l.default.Instance.guanqianum]=o,s.default.setCheckPointStar(n)):(n[l.default.Instance.guanqianum]=o,s.default.setCheckPointStar(n))},t.prototype.start=function(){},t.prototype.showStar=function(e){for(var t=function(t){var n=cc.find("star",o.starNode[t]);t<=e-1?cc.tween(n).delay(.3*(t+1)).call(function(){n.scale=2,n.active=!0}).to(.1,{scale:1}).start():n.active=!1},o=this,n=0;n<3;n++)t(n)},t.prototype.shareBtnClick=function(){u.default.Instance.recording_Video_Share(function(){},function(){})},t.prototype.restartBtnClick=function(){if(s.default.getEnergy()<=0)return c.default.Instance.createTips("\u4f53\u529b\u4e0d\u8db3"),void(cc.instantiate(d.default.Instance.uiPre.addEngry).parent=cc.director.getScene());s.default.setEnergy(s.default.getEnergy()-1),cc.director.emit("addengry"),this.node.destroy(),cc.director.resume(),cc.director.loadScene("GameScene")},t.prototype.nextBtnClick=function(){if(s.default.getEnergy()<=0)return c.default.Instance.createTips("\u4f53\u529b\u4e0d\u8db3"),void(cc.instantiate(d.default.Instance.uiPre.addEngry).parent=cc.director.getScene());s.default.setEnergy(s.default.getEnergy()-1),cc.director.emit("addengry"),this.node.destroy(),l.default.Instance.guanqianum++,cc.director.resume(),cc.director.loadScene("GameScene")},t.prototype.getItemClick=function(e,t){var o=cc.find("Canvas/UiNode").getComponent(p.default);u.default.Instance.motivational_Video_Show(function(){"item0"==t?(s.default.setBingDong(s.default.getBingDong()+2),o.updataRight()):"item1"==t&&(s.default.setHuDun(s.default.getHuDun()+2),o.updataRight())},function(){})},a([g([cc.Node])],t.prototype,"starNode",void 0),a([h],t)}(cc.Component);o.default=m,cc._RF.pop()},{"../resources/tips/TipsManager":void 0,"./GamePrefab":"GamePrefab","./UiNodeSc":"UiNodeSc","./common/GameData":"GameData","./common/PlayData":"PlayData","./common/gameStorage":"gameStorage","./common/sdkTools/gameShareAdsVideo":"gameShareAdsVideo"}]},{},["LoadScene","AudioManager","GamePrefab","GameSceneSc","StartSceneSc","TopUi","UiNodeSc","addEngry","checkoutPanelSc","Define","GameData","PlayData","gameStorage","cocosAnalyticsSdk","gameCheckLogin","gameNetWorkState","gameShareAdsVideo","utils","endPanelSc","enemySc","itemSc","joystickSc","loading","mapSc","moregamePanelSc","pausePanel","playerSc","reLivePanelSc","CellSc","SanXiaoGameEndSc","SanXiaoGameSc","StoneSc","tiledPrefab","tiledSc","useItemPanelSc","winPanelSc"]);